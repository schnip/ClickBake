/*! sni-vpc - v1.4.9 - 08-25-2015 10:40:52 AM EDT */
Function.prototype.bind=function(){}.bind||function(b){function c(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var a=[].slice,f=a.call(arguments,1),e=this,d=function(){return e.apply(this instanceof c?this:b||window,f.concat(a.call(arguments)))};return c.prototype=this.prototype,d.prototype=new c,d},SNI.Video=SNI.Video||function(){"use strict";var video={},$head=$("head"),isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;return video.version="1.4.9",video.pdkVersion="5.6.1",video.pdkBaseUrl="http://www.pdk.video.snidigital.com/"+video.pdkVersion+"/pdk",video.vpcBaseUrl="http://www.player.video.snidigital.com/vpc/"+video.version.replace(/\./g,"/"),$('[name="tp:baseUrl"], [name="tp:PreferredFormats"], [name="tp:PreferredRuntimes"], [name="tp:initialize"], [name="tp:FlashBlacklist"]').remove(),$head.append('<meta name="tp:baseUrl" content="'+video.pdkBaseUrl+'" />').append('<meta name="tp:initialize" content="false" />').append('<meta name="tp:PreferredFormats" content="m3u,f4m,mpeg4,flv" />').append('<meta name="tp:PreferredRuntimes" content="Universal" />'),isFirefox&&$head.append('<meta name="tp:FlashBlacklist" content="Any|Any" />'),$(document).ready(function(){$("body").append('<div class="tpPlayer" id="lazy_load_hack" style="visibility:hidden;"></div>')}),window.$pdk||document.write('<script type="text/javascript" src="'+video.pdkBaseUrl+'/tpPdk.js"></script>'),video}(),SNI.Video.Util=function(){"use strict";var util={formatTime:function(i){var hr,min,sec,seconds=null,time="";return isNaN(parseInt(i))?"":(seconds="number"!=typeof i?Math.round(parseInt(i)):Math.round(i),hr=Math.floor(seconds/3600),min=Math.floor((seconds-3600*hr)/60),sec=seconds-3600*hr-60*min,10>hr&&(hr="0"+hr),10>min&&(min="0"+min),10>sec&&(sec="0"+sec),"00"!=hr.toString()&&(time=hr+":"),"00"!=min.toString()&&(time+=min),time+=":"+sec)},convertToSeconds:function(timeString){var data,secondsInMinute=60,minutesInHour=60,timeInSeconds=0;return SNI.Video.Overrides&&SNI.Video.Overrides.convertToSeconds?SNI.Video.Overrides.convertToSeconds(timeString):(timeString+="",timeString=timeString.trim(),timeString=timeString.replace(/[^0-9:]*/g,""),timeString=timeString.replace(/(^:)|(:$)/g,""),timeString=timeString.replace(/[:]+/g,":"),data=timeString.split(":").reverse(),timeInSeconds+=data[0]?Math.floor(data[0]):0,timeInSeconds+=data[1]?Math.floor(data[1])*secondsInMinute:0,timeInSeconds+=data[2]?Math.floor(data[2])*minutesInHour*secondsInMinute:0)},formatOffset:function(ms){return isNaN(parseFloat(ms))?"":Math.round(parseFloat(ms)/1e3)},isMdmLoaded:function(){return"object"==typeof mdManager},isPdkLoaded:function(){return"object"==typeof $pdk},mdmAppend:function(key,value){""===mdManager.getParameter(key)?mdManager.setParameter(key,value):mdManager.addParameter(key,value)},getIndex:function(id,array){for(var i=0;i<array.length;i++)if(array[i].id==id)return i;return null},log:function(msg,location,level){level||(level=tpConsts.DEBUG),location||(location="SNI.Video"),tpDebug(msg,"SNI Core Player Library",location,level)},isLocalStorageSupported:function(){var mod="localStorageCheck";try{return localStorage.setItem(mod,mod),localStorage.removeItem(mod),!0}catch(e){return!1}},getParameterByName:function(name,href){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),href=href||window.location;var regexS="[\\?&]"+name+"=([^&#]*)",regex=new RegExp(regexS),results=regex.exec(href);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},isEmbeddedPlayer:function(){try{return window.self!==window.top}catch(e){return!0}},Cookie:{SEARCH:"S",UI:"U",get:function(name){for(var c,nameEQ=name+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},set:function(name,value,days,path){var date,expires="";days&&(date=new Date,date.setTime(date.getTime()+24*days*60*60*1e3),expires="; expires="+date.toGMTString()),path||(path="/"),document.cookie=name+"="+value+expires+"; path="+path}},isFlashPlayer:function(){return!1},getRuntime:function(){var runTime=$pdk.controller._env._component_runtime,isUniversal=$pdk.controller._env.getIsUniversal();return isUniversal?"universal":runTime},sequence:function(){function sequenced(){var innerArgs=arguments,i=0;for(i;i<functions.length;i++)functions[i].apply(context,innerArgs)}var context=this,functions=arguments;return sequenced.bind(context)},debounce:function(func,wait,immediate){var timeout;return function(){function debounceTimeout(){timeout=null,immediate||func.apply(context,args)}var callNow,context=this,args=arguments;callNow=immediate&&!timeout,clearTimeout(timeout),timeout=setTimeout(debounceTimeout,wait),callNow&&func.apply(context,args)}},loadScript:function(scriptUrl,async){try{var shimScript=document.createElement("script"),shimNode=document.getElementsByTagName("script")[0];return shimScript.async=!!async,shimScript.src=scriptUrl,shimNode.parentNode.insertBefore(shimScript,shimNode),!0}catch(e){return SNI.Video.Util.log("Error loading script at: "+scriptUrl,"SNI.Video.Util.loadScript","ERROR"),!1}}};return util}(),SNI.Video.Defaults={},SNI.Video.Defaults.player={logLevel:"warn",autoplay:!0,allowfullscreen:!0,layoutUrl:SNI.Video.vpcBaseUrl+"/skins/sni-default/layout.xml",skinUrl:SNI.Video.vpcBaseUrl+"/skins/sni-default/sni-default.json",enableDynamicSubtitleFonts:!0,isFullscreen:!1,endCard:"none",ignoreOtherPlayers:!1,backgroundColor:"0x000000",controlBackgroundColor:"0x000000",controlColor:"0xb3b3b3",controlFrameColor:"0x000000",controlHighlightColor:"0x38bfda",controlHoverColor:"0xffffff",controlSelectedColor:"0xffffff",controlDisabledColor:"0x636363",frameColor:"0x000000",loadProgressColor:"0x7f7f7f",pageBackgroundColor:"0x000000",playProgressColor:"0x38bfda",scrubberColor:"0x000000",scrubberFrameColor:"0x000000",scrubTrackColor:"0x000000",textBackgroundColor:"0x000000",textColor:"0xb3b3b3"},SNI.Video.Defaults.closedCaptioning={enabled:!0,contactText:"Send Feedback",contactUrl:"http://www.foodnetwork.com/site/contact-us.html",contactTarget:"_blank",defaultSettings:{backgroundColor:"#000000",backgroundOpacity:0,fontColor:"#ffffff",fontEdge:"None",fontFamily:"Arial",fontSize:1,opacity:1,fontEdgeColor:"#000000",padding:3,textAlign:"center",textAlignVertical:"bottom"},backgroundColorTitle:"Background Color",backgroundColor:[{colorName:"White",value:"#FFFFFF"},{colorName:"Black",value:"#000000"},{colorName:"Red",value:"#FF0000"},{colorName:"Green",value:"#008000"},{colorName:"Blue",value:"#0000FF"},{colorName:"Yellow",value:"#FFFF00"},{colorName:"Magenta",value:"#FF00FF"},{colorName:"Cyan",value:"#00FFFF"}],fontColorTitle:"Text Color",fontColor:[{colorName:"White",value:"#FFFFFF"},{colorName:"Black",value:"#000000"},{colorName:"Red",value:"#FF0000"},{colorName:"Green",value:"#008000"},{colorName:"Blue",value:"#0000FF"},{colorName:"Yellow",value:"#FFFF00"},{colorName:"Magenta",value:"#FF00FF"},{colorName:"Cyan",value:"#00FFFF"}],fontEdgeTitle:"Text Edge",fontEdge:[{textEdgeName:"A",value:"None"},{textEdgeName:"A",value:"Depressed"},{textEdgeName:"A",value:"DropShadow"},{textEdgeName:"A",value:"Raised"},{textEdgeName:"A",value:"Uniform"}],fontFamilyTitle:"Text Style",fontFamily:[{fontName:"Default",value:""},{fontName:"Arial",value:"arial"},{fontName:"Arial Black",value:"arial black"},{fontName:"Courier",value:"Courier New"},{fontName:"Georgia",value:"georgia"},{fontName:"Impact",value:"impact"},{fontName:"Lucida Sans Unicode",value:"Lucida Sans Unicode"},{fontName:"Palatino",value:"palatino"},{fontName:"Tahoma",value:"tahoma"},{fontName:"Times New Roman",value:"times new roman"}],fontSizeTitle:"Text Size",fontSize:[{textSizeName:"Aa",value:.5},{textSizeName:"Aa",value:1},{textSizeName:"Aa",value:1.5},{textSizeName:"Aa",value:2}],opacityTitle:"Opacity",opacity:[{opacityName:"Off",value:1},{opacityName:"On",value:.5}]},SNI.Video.Defaults.embed={enabled:!0,vpcBaseUrl:SNI.Video.vpcBaseUrl,releaseUrl:"",baseUrl:window.location.protocol+"//"+window.location.hostname,embedUrl:"/embed/player.html",hasExplicitSize:!0,width:"640",height:"360",options:[{height:"315",width:"560"},{height:"360",width:"640"},{height:"480",width:"853"},{height:"720",width:"1280"}]},SNI.Video.Defaults.omniture={enabled:!0},SNI.Video.Defaults.nielsen={enabled:!0,apid:null,apn:"O and O Player",sfcode:"aws"},SNI.Video.Defaults.ias={enabled:!0},SNI.Video.Defaults.ulive={enabled:!1},SNI.Video.Defaults.endframe={enabled:!0,endframeCountdown:10,endframeClass:"",showEmptyEndframe:!1,assets:[]},SNI.Video.Defaults.alternateEndframe={enabled:!0,frameId:null},SNI.Video.Defaults.embedEndframe={enabled:!0,vpcBaseUrl:SNI.Video.vpcBaseUrl,title:"More From FN",videoUrl:"http://www.foodnetwork.com/videos/",videoLinkText:"FoodNetwork.com/videos/"},SNI.Video.Defaults.play={enabled:!0,playButtonSrc:SNI.Video.vpcBaseUrl+"/img/icon-play.png"},SNI.Video.Defaults.playClickToggle={enabled:!0},SNI.Video.Defaults.freewheel={enabled:!0,adContainerId:"bigbox",pdkPlugin:{settings:{type:"adcomponent",priority:1,networkId:SNI.Config.Video.networkId,serverUrl:"http://2ecd5.v.fwmrm.net/ad/p/1",callback:"SNI.Video.Events.adEvent",siteSectionNetworkId:SNI.Config.Video.networkId,videoAssetNetworkId:SNI.Config.Video.networkId,fallbackSiteSectionId:SNI.Config.Video.fallbackSiteSectionId,customVideoAssetIdField:"bviAssetId",siteSectionId:"fallback",exitFullscreenOnPause:!1,adManagerUrl:"http://adm.fwmrm.net/p/scripps_pdk_{runtime}_live/AdManager.{ext}",playerProfile:"191701:scripps_pdk_{runtime}_live"},html5Settings:{url:SNI.Video.pdkBaseUrl+"/js/plugins/freewheel.js"}}},SNI.Video.Defaults.comscore={enabled:!0,pdkPlugin:{settings:{type:"analytics",priority:1,c2:"6035648",labelmapping:{ns_st_ci:"content.nonLinearId",ns_st_pr:"content.showName",ns_st_pu:"content.ownerBrand",c6:"content.showName"},persistentlabels:{c3:mdManager.getParameterString("SITE"),c4:"*null"}},html5Settings:{url:"http://sb.scorecardresearch.com/c2/plugins/streamsense_plugin_theplatform.js"}}},SNI.Video.Defaults.akamaiHD={enabled:!0,pdkPlugin:{settings:{type:"content",priority:1,fallback:"switch=http",enableDVR:!0,hosts:".akamaihd.net",manifest:!0,videoLayer:"akamaihd"},html5Settings:{url:SNI.Video.pdkBaseUrl+"/js/plugins/akamaiHD.js"}}},SNI.Video.Defaults.singlePlayback={enabled:!0},SNI.Video.Defaults.adobePass={enabled:!1,requestorId:null,accessEnablerURL:"//entitlement.auth.adobe.com/entitlement/AccessEnabler.js",magnificURL:SNI.Video.vpcBaseUrl+"/js/libs/magnific.js",authToken:null,promptImmediately:!1,mvpdStateDomId:"mvpdState",signInText:"Sign in to your Provider",signOutText:"Sign Out",logoUrlRoot:SNI.Video.vpcBaseUrl+"/img/adobePass/dark_theme/",defaultLogoUrl:"default_provider.png",titleText:"Sign in",providerActionText:"Sign in with your TV provider subscription to access your favorite shows on Live TV and after they air.",helpUrl:null,helpText:"Help",allProvidersText:"View all providers",preferredProviders:[{ID:"Comcast_SSO",displayName:"Comcast XFINITY",logoURL:"xfinity.png"},{ID:"DTV",displayName:"DIRECTV",logoURL:"direct_tv.png"},{ID:"Dish",displayName:"DISH",logoURL:"dish.png"},{ID:"TWC",displayName:"Time Warner Cablek",logoURL:"twc.png"},{ID:"ATT",displayName:"AT&T U-verse",logoURL:"att.png"},{ID:"Verizon",displayName:"Verizon FiOS",logoURL:"verizon_fios.png"},{ID:"Cox",displayName:"Cox",logoURL:"cox.png"},{ID:"Cablevision",displayName:"Optimum",logoURL:"optimum.png"},{ID:"Brighthouse",displayName:"Bright House Networks",logoURL:"brighthouse.png"},{ID:"msauth_midco_net",displayName:"Midcontinent Communications",logoURL:"midcontinent_communications.png"}],excludedProviders:[]},SNI.Video.Defaults.social={enabled:!0,apiKey:"3_sx4Mw2BJXu7W1RW5J3thi6Q4-XIpnIScejJqYzxU2D1h8M2VYjDNwLVLIAbYqmwK",tapDisplayLength:4e3,fadeIn:300,fadeOut:300,socialNetworks:[{id:"twitter",name:"Twitter",unicodeValue:"",className:"socialTwitter"},{id:"facebook",name:"Facebook",unicodeValue:"",className:"socialFacebook"}]},SNI.Video.Defaults.channels={enabled:!1,startingChannelIndex:0,channels:[{start:0,end:0,total:0,title:"",description:"",videos:[{}]}]},function(){"use strict";var events={queue:[],publish:function(eventName,payload,containerId){if(!eventName)return void SNI.Video.Util.log("Attempted to publish an empty event.","SNI.Video.Events.publish","WARN");if(!containerId){if(!payload||"string"!=typeof payload)return void SNI.Video.Util.log('Attempted to publish an "'+eventName+'" event without a valid target.',"SNI.Video.Events.publish","WARN");containerId=payload,payload=null}$pdk.controller.dispatchEvent(eventName,payload,[containerId])},subscribe:function(eventName,callback,containerId){return eventName?callback?containerId?void(SNI.Video.Util.isPdkLoaded()&&SNI.Video.Players[containerId]?$pdk.controller.addEventListener(eventName,callback,[containerId]):SNI.Video.Events.queue.push({event:eventName,callback:callback,containerId:containerId})):void SNI.Video.Util.log("Attempted to subscribe to "+eventName+" without a containerId.","SNI.Video.Events.subscribe","WARN"):void SNI.Video.Util.log("Attempted to subscribe to "+eventName+" without a callback.","SNI.Video.Events.subscribe","WARN"):void SNI.Video.Util.log("Attempted to subscribe to an empty event.","SNI.Video.Events.subscribe","WARN")},unsubscribe:function(eventName,callback,containerId){var current,queue=SNI.Video.Events.queue,index=0;if(!eventName)return void SNI.Video.Util.log("Attempted to unsubscribe to an empty event.","SNI.Video.Events.unsubscribe","WARN");if(!callback)return void SNI.Video.Util.log("Attempted to unsubscribe to "+eventName+" without a callback.","SNI.Video.Events.unsubscribe","WARN");if(!containerId)return void SNI.Video.Util.log("Attempted to unsubscribe to "+eventName+" without a containerId.","SNI.Video.Events.unsubscribe","WARN");if(SNI.Video.Util.isPdkLoaded()&&SNI.Video.Players[containerId])$pdk.controller.removeEventListener(eventName,callback,[containerId]);else if(queue.length>0)for(;index<queue.length;index++)if(current=queue[index],current.containerId===containerId&&current.eventName===eventName&&current.callback===callback)return void queue.splice(index,1)},addEventListener:function(eventName,callback,containerId){this.subscribe(eventName,callback,containerId)},removeEventListener:function(eventName,callback,containerId){this.unsubscribe(eventName,callback,containerId)}};SNI.Video.Events=events}(),function(){"use strict";function getSettingString(settings,separator){var propName,type,concatedValue="";separator=separator||"|";for(propName in settings)if(settings.hasOwnProperty(propName))switch(type=typeof settings[propName]){case"string":case"number":case"boolean":concatedValue+=encodeURIComponent(propName)+"="+encodeURIComponent(settings[propName])+separator;break;case"function":concatedValue+=encodeURIComponent(propName)+"="+encodeURIComponent(settings[propName]())+separator;break;case"object":concatedValue+=encodeURIComponent(propName)+"="+getSettingString(settings[propName],",")+separator}return concatedValue=concatedValue.substring(0,concatedValue.length-1)}var plugins={registerPdkPlugin:function(player,pluginName,baseSettings,html5Settings){return pluginName?void(html5Settings&&(html5Settings=$.extend(!0,{},baseSettings,html5Settings),SNI.Video.Util.log("Registering HTML5 Plugin for: "+pluginName,"SNI.Video.Player.registerPdkPlugin","INFO"),player.pdk["plugin_HTML5_"+pluginName]=getSettingString(html5Settings))):void SNI.Video.Util.log("Attempted to register a PDK plugin without specifying a plugin name.","SNI.Video.Player.registerPdkPlugin","WARN")},loadPlugin:function(plugin,player){var uppercasedPlugin=plugin.charAt(0).toUpperCase()+plugin.substr(1,plugin.length);player.modules[plugin]?SNI.Video.Util.log("This plugin has already been loaded: "+uppercasedPlugin,"SNI.Video.Player.loadPlugin","WARN"):(SNI.Video.Util.log("Loading plugin: "+uppercasedPlugin,"SNI.Video.Player.loadPlugin","INFO"),player.modules[plugin]=SNI.Video[uppercasedPlugin](player,player.config[plugin]))},loadPlugins:function(player){var propName,property;player.config.alternateEndframe.frameId?(player.config.alternateEndframe.enabled=!0,player.config.embedEndframe.enabled=!1,player.config.endframe.enabled=!1):SNI.Video.Util.isEmbeddedPlayer()?(player.config.alternateEndframe.enabled=!1,player.config.embedEndframe.enabled=!0,player.config.endframe.enabled=!1):(player.config.alternateEndframe.enabled=!1,player.config.embedEndframe.enabled=!1);for(propName in player.config)player.config.hasOwnProperty(propName)&&(property=player.config[propName],player.config.hasOwnProperty(propName)&&"object"===$.type(property)&&property.enabled?plugins.loadPlugin(propName,player):"channels"===propName&&"array"===$.type(property)&&plugins.loadPlugin(propName,player))}};SNI.Video.Plugins=plugins}(),SNI.Video.Templates=SNI.Video.Templates||{},SNI.Video.Templates["adobePass.jst"]=function(it){var out='<div class="tpAdobePass tpPlayerCard"> <div class="tpHead"> <button type="button" class="tpClose"><img alt="Close" src="'+SNI.Video.vpcBaseUrl+'/img/icon-close.png" /></button> <h1>'+it.titleText+"</h1> </div> <p>"+it.providerActionText+'</p> <div class="preferredProviders"> <ul class="preferredProviderList clearfix"> ',arr1=it.preferredProviders;if(arr1)for(var item,index=-1,l1=arr1.length-1;l1>index;)item=arr1[index+=1],out+=' <li class="preferredProvider"> <button type="button" class="providerThumb" value="'+item.ID+'"> <img alt="'+item.displayName+'" src="'+it.logoUrlRoot+item.logoURL+'" /> </button> </li> ';out+=' </ul> <div class="providerFooter"> <button type="button" class="allProvidersCta">'+it.allProvidersText+"</button> ",it.helpUrl&&it.helpText&&(out+=' <div class="providerHelp"> <a href="'+it.helpUrl+'">'+it.helpText+"</a> </div> "),out+=' </div> </div> <div class="allProviders" style="display:none;">         <div class="providerListWrap"> <ul class="providerList"> ';var arr2=it.providers;if(arr2)for(var item,index=-1,l2=arr2.length-1;l2>index;)item=arr2[index+=1],out+=' <li> <button type="button" value="'+item.ID+'">'+item.displayName+"</button> </li> ";return out+=' </ul> </div> <div class="providerFooter"> ',it.helpUrl&&it.helpText&&(out+=' <div class="providerHelp"> <a href="'+it.helpUrl+'">'+it.helpText+"</a> </div> "),out+=" </div> </div></div>"},SNI.Video.Templates["closedCaptionFrame.jst"]=function(it){var out='<div class="tpCCFrame tpPlayerCard"> <div class="tpHead clearfix"> <button type="button" class="tpClose"><img alt="Close" src="'+it.vpcBaseUrl+'/img/icon-close.png" /></button> <h1>Closed Captioning</h1> <div class="tpEnabler"> <input type="radio" id="'+it.containerId+'_tpCCRadioOff" value="false" name="tpCCToggle" ';it.ccEnabled||(out+="checked"),out+=' /> <label for="'+it.containerId+'_tpCCRadioOff">OFF</label> <input type="radio" id="'+it.containerId+'_tpCCRadioOn" name="tpCCToggle" value="true" ',it.ccEnabled&&(out+="checked"),out+=' /> <label for="'+it.containerId+'_tpCCRadioOn">ON</label> </div> <div class="tpContact"> <a href="'+it.contactUrl+'" target="'+it.contactTarget+'">'+it.contactText+'</a> </div> </div> <form id="'+it.containerId+'_tpCCControls"> <div class="tpCCGroup"> <div class="tpCCCol"> <div class="tpCCTextColors"> <h2>'+it.fontColorTitle+"</h2> ";var arr1=it.fontColor;if(arr1)for(var item,index=-1,l1=arr1.length-1;l1>index;)item=arr1[index+=1],out+=' <input type="radio" id="'+it.containerId+"_tpCCTextColor_"+index+'" class="input-hidden" value="'+item.value+'" name="tpCCTextColors" ',item.selected&&(out+="checked"),out+=' /> <label for="'+it.containerId+"_tpCCTextColor_"+index+'" class="tpCCColorPicker" style="background-color:'+item.value+';" title="'+item.colorName+'"> '+item.colorName+" </label> ";out+=' </div> </div> <div class="tpCCCol"> <div class="tpCCBGColors"> <div class="clearfix"> <h2>'+it.backgroundColorTitle+'</h2> <div class="booleanControls"> <input type="radio" id="'+it.containerId+'_tpCCBGColor_off" value="off" name="tpCCBGColor_enabled" checked /> <label for="'+it.containerId+'_tpCCBGColor_off">Off</label> <input type="radio" id="'+it.containerId+'_tpCCBGColor_on" value="on" name="tpCCBGColor_enabled" /> <label for="'+it.containerId+'_tpCCBGColor_on">On</label> </div> </div> ';var arr2=it.backgroundColor;if(arr2)for(var item,index=-1,l2=arr2.length-1;l2>index;)item=arr2[index+=1],out+=' <input type="radio" id="'+it.containerId+"_tpCCBGColor_"+index+'" class="input-hidden" value="'+item.value+'" name="tpCCBGColors" ',item.selected&&(out+="checked"),out+=' /> <label for="'+it.containerId+"_tpCCBGColor_"+index+'" class="tpCCColorPicker" style="background-color:'+item.value+';" title="'+item.colorName+'"> '+item.colorName+" </label> ";out+=' </div> </div> </div> <div class="tpCCGroup clearfix"> <div class="tpCCCol"> <div class="tpCCFont"> <h2>'+it.fontFamilyTitle+'</h2> <select name="tpCCFont"> ';var arr3=it.fontFamily;if(arr3)for(var item,index=-1,l3=arr3.length-1;l3>index;)item=arr3[index+=1],out+=' <option value="'+item.value+'" style="font-family:'+item.value+';" ',item.selected&&(out+="selected"),out+=">"+item.fontName+"</option> ";out+=' </select> </div> </div> <div class="tpCCCol"> <div class="tpCCOpacity"> <h2>'+it.opacityTitle+'</h2> <div class="booleanControls"> ';var arr4=it.opacity;if(arr4)for(var item,index=-1,l4=arr4.length-1;l4>index;)item=arr4[index+=1],out+=' <input type="radio" id="'+it.containerId+"_tpCCOpacity_"+index+'" value="'+item.value+'" name="tpCCOpacity" ',item.selected&&(out+="checked"),out+=' /> <label for="'+it.containerId+"_tpCCOpacity_"+index+'" class="tpCCOpacityPicker"> '+item.opacityName+" </label> ";out+=' </div> </div> </div> </div> <div class="tpCCGroup"> <div class="tpCCCol"> <div class="tpCCTextEdge"> <h2>'+it.fontEdgeTitle+"</h2> ";var arr5=it.fontEdge;if(arr5)for(var item,index=-1,l5=arr5.length-1;l5>index;)item=arr5[index+=1],out+=' <input type="radio" id="'+it.containerId+"_tpCCTextEdge_"+index+'" class="input-hidden" value="'+item.value+'" name="tpCCTextEdge" ',item.selected&&(out+="checked"),out+=' /> <label for="'+it.containerId+"_tpCCTextEdge_"+index+'" class="tpCCTextEdgePicker" title="'+item.value+'"> <div class="'+item.value+'">'+item.textEdgeName+"</div> </label> ";out+=' </div> </div> <div class="tpCCCol"> <div class="tpCCTextSize"> <h2>'+it.fontSizeTitle+"</h2> ";var arr6=it.fontSize;if(arr6)for(var item,index=-1,l6=arr6.length-1;l6>index;)item=arr6[index+=1],out+=' <input type="radio" id="'+it.containerId+"_tpCCTextSize_"+index+'" class="input-hidden" value="'+item.value+'" name="tpCCTextSize" ',item.selected&&(out+="checked"),out+=' /> <label for="'+it.containerId+"_tpCCTextSize_"+index+'" class="tpCCTextSizePicker" style="font-size:'+item.value+'em;line-height:1em;" title="'+item.value+' times normal size"> '+item.textSizeName+" </label> ";return out+=' </div> </div> </div> <div class="tpCCGroup"> <div class="tpCCPreviewWrap"> <div class="tpCCPreview"> <div class="tpCCText"> Closed Captioning Preview </div> </div> </div> <button type="button" class="tpDone">Done</button> </div> </form></div>'},SNI.Video.Templates["embed.jst"]=function(it){var out='<div class="tpEmbedFrame tpPlayerCard"> <div class="tpHead"> <button type="button" class="tpClose"><img alt="Close" src="'+it.vpcBaseUrl+'/img/icon-close.png" /></button> <h1>Embed Video</h1> </div> <form id="tpEmbedForm"> ';out+=it.hasExplicitSize?' <textarea rows="4" cols="100">&#60;iframe width=&#34;'+it.width+"&#34; height=&#34;"+it.height+"&#34; src=&#34;"+it.fullUrl+"&#34; frameborder=&#34;0&#34; allowfullscreen&#62;&#60;/iframe&#62;</textarea> ":' <textarea rows="4" cols="100">&#60;div style=&#34;position:relative;padding-bottom:56.25%;padding-top:30px;height:0;overflow:hidden;&#34;&#62; &#60;iframe style=&#34;position:absolute;top:0;left:0;width:100%;height:100%;&#34; src=&#34;'+it.fullUrl+"&#34; frameborder=&#34;0&#34; allowfullscreen&#62;&#60;/iframe&#62; &#60;/div&#62;</textarea> ",out+=' <div class="tpRow"> <label for="tpResolution">Video Size</label> <select class="tpResolution" id="tpResolution"> <option value="auto">responsive</option> ';var arr1=it.options;if(arr1)for(var item,index=-1,l1=arr1.length-1;l1>index;)item=arr1[index+=1],out+=' <option value="'+item.width+'">'+item.width+" X "+item.height+"</option> ";return out+=" </select> </div> </form></div>"},SNI.Video.Templates["embedEndframe.jst"]=function(it){var out='<div class="tpEmbedEndFrame tpPlayerCard"><div class="tpHead"> <button type="button" class="tpClose"><img alt="Close" src="'+it.vpcBaseUrl+'/img/icon-close.png" /></button> <h1>'+it.title+'</h1> </div> <form id="tpEmbedForm"> <p>Enjoy more videos at <a href="'+it.videoUrl+'" target="_blank">'+it.videoLinkText+'</a></p> <button type="button" class="tpDone">Close</button> </form></div>';return out},SNI.Video.Templates["endframeFull.jst"]=function(it){var out="";return it.video0&&(out+='<div class="upnext"> <div class="countdown">'+it.countdown+'</div> <a href="'+it.video0.url+'"> <img src="'+it.video0.thumbnailUrl+'" width="92" height="69"> <h2>Up Next</h2> <h3>'+it.video0.title+" <span>"+it.video0.length+"</span></h3> <p>"+it.video0.description+"</p> </a></div>"),out+='<a class="replay" href="#"><span>Replay Video</span></a>',it.video1&&(out+='<div class="more-videos"> <h2>More Videos</h2> <div class="video"> <a href="'+it.video1.url+'"> <img src="'+it.video1.thumbnailUrl+'" width="196" height="147"> <h3>'+it.video1.title+" <span>"+it.video1.length+"</span></h3> </a> </div> ",it.video2&&(out+=' <div class="video"> <a href="'+it.video2.url+'"> <img src="'+it.video2.thumbnailUrl+'" width="196" height="147"> <h3>'+it.video2.title+" <span>"+it.video2.length+"</span></h3> </a> </div> "),out+="</div>"),out},SNI.Video.Templates["endframeMobile.jst"]=function(it){var out="";return out+=it.video0?'<div class="upnext"> <h2>Related Videos</h2> <ul> <li> <a href="'+it.video0.url+'"> <img src="'+it.video0.thumbnailUrl+'" width="92" height="69"> <h3>'+it.video0.title+" <span>"+it.video0.length+'</span></h3> </a> </li> <li> <a href="'+it.video1.url+'"> <img src="'+it.video1.thumbnailUrl+'" width="92" height="69"> <h3>'+it.video1.title+" <span>"+it.video1.length+"</span></h3> </a> </li> </ul></div>":'<a class="replay" href="#"><span>Replay Video</span></a>'},SNI.Video.Templates["freewheel.jst"]=function(it){var out='<span class="_fwph" id="300x60slot"> <style> #_fw_container_300x60slot span { margin:0px!important; } </style> <form style="display: none" id="_fw_form_300x60slot"> <input type="hidden" width="320" height="60" value="w=320&amp;h=60&amp;cd=300,60|320,50" id="_fw_input_300x60slot" name="_fw_input_300x60slot"> </form> <span class="_fwac" id="_fw_container_300x60slot"> </span></span><span id="900x650slot" class="_fwph hide"> <form id="_fw_form_900x650slot" class="hide"> <input type="hidden" name="_fw_input_900x650slot" id="_fw_input_900x650slot" value="w=900&amp;h=650&amp; cd=900,650&amp;envp=g_js&amp;sflg=-nrpl;"> </form> <span id="_fw_container_900x650slot" class="_fwac"> <span class="hide"></span> </span></span>';return out},SNI.Video.Templates["mvpdState.jst"]=function(it){var out='<div class="mvpdState">';return out+=it.currentProvider?' <div class="mvpdLoggedIn"> <div class="mvpdLogo"> <img alt="'+it.currentProvider.displayName+'" src="'+it.logoUrlRoot+it.currentProvider.logoURL+'" /> </div> <button type="button" class="mvpdLogout">'+it.signOutText+"</button> </div>":' <div class="mvpdLoggedOut"> <button type="button" class="mvpdLogin">'+it.signInText+"</button> </div>",out+="</div>"},SNI.Video.Templates["play.jst"]=function(it){var out='<img src="'+it.playButtonSrc+'" alt="Play" />';return out},SNI.Video.Templates["social.jst"]=function(it){var out='<div class="socialBar"> <ul class="socialList"> ',arr1=it.socialNetworks;if(arr1)for(var item,index=-1,l1=arr1.length-1;l1>index;)item=arr1[index+=1],out+=' <li class="socialNetwork"> <button type="button" class="'+item.className+'" value="'+item.id+'" title="'+item.name+'"><div class="socialIcon">'+item.unicodeValue+"</span></button> </li> ";return out+=" <ul></div>"},function(){"use strict";function AdobePass(player,settings){return this.settings=settings||SNI.Video.Defaults.adobePass,this.settings.providers={},this.settings.currentProvider=null,this.$root=$(root),$("body").append(this.$root),null===this.settings.requestorId?void SNI.Video.Util.log("AdobePass settings must include a 'requestorId'","SNI.Video.AdobePass","INFO"):(SNI.Video.Util.log("AdobePass initialialization script called.","SNI.Video.AdobePass","INFO"),this.loadDependencies(),void this.bindGlobalEvents())}function insertControlBLocker(player){var $container=player.$container;$container.append('<div class="controlBlocker tpPlayerCard"></div>'),$container.on("click",".controlBlocker",function(){adobePassSingleton.show()})}function removeControlBlockers(player){var selector=".controlBlocker";player?player.$container.find(selector).remove():$(selector).remove()}var adobePassSingleton,singletonCreated=!1,template="adobePass.jst",mvpdStateTemplate="mvpdState.jst",root='<div id="adobePassRoot" class="mfp-hide"></div>';AdobePass.prototype.loadDependencies=function(){window.accessEnabler||SNI.Video.Util.loadScript(this.settings.accessEnablerURL),$.magnificPopup||SNI.Video.Util.loadScript(this.settings.magnificURL)},AdobePass.prototype.bindGlobalEvents=function(){window.displayProviderDialog=this.displayProviderDialog.bind(this),window.setToken=this.setToken.bind(this),window.setAuthenticationStatus=this.setAuthenticationStatus.bind(this),window.selectedProvider=this.selectedProvider.bind(this),window.entitlementLoaded=this.entitlementLoaded.bind(this),window.tokenRequestFailed=function(){SNI.Video.Util.log('AdobePass "tokenRequestFailed" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.createIFrame=function(){SNI.Video.Util.log('AdobePass "createIFrame" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.setMovieDimensions=function(){SNI.Video.Util.log('AdobePass "setMovieDimensions" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.sendTrackingData=function(){SNI.Video.Util.log('AdobePass "sendTrackingData" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.setMetadataStatus=function(){SNI.Video.Util.log('AdobePass "setMetadataStatus" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")},window.setRequestor=function(){SNI.Video.Util.log('AdobePass "setRequestor" event triggered. Arguments: '+arguments,"SNI.Video.AdobePass","INFO")}},AdobePass.prototype.render=function(){function login(event){var id=$(event.currentTarget).val();accessEnabler.setSelectedProvider(id)}var adobe=this,$html=$(SNI.Video.Templates[template](adobe.settings));adobe.$root.off("click").html($html),adobe.$root.on("click",".allProvidersCta",function(){var $preferred=adobe.$root.find(".preferredProviders"),$all=adobe.$root.find(".allProviders"),height=$preferred.height();$preferred.hide(),$all.find(".providerList").height(height),$all.show()}),adobe.$root.on("click",".providerList button",login),adobe.$root.on("click",".providerThumb",login),adobe.$root.on("click",".tpClose",adobe.hide)},AdobePass.prototype.show=function(){var adobe=this;$.magnificPopup.open({items:{src:this.$root,type:"inline"},showCloseBtn:!1,callbacks:{close:function(){adobe.render()}}})},AdobePass.prototype.hide=function(){$.magnificPopup.close()},AdobePass.prototype.renderMvpdState=function(){var $mvpdStateDomId,$html,adobePass=this;this.settings.mvpdStateDomId&&($mvpdStateDomId=$("#"+this.settings.mvpdStateDomId),$mvpdStateDomId.length>0&&($html=$(SNI.Video.Templates[mvpdStateTemplate](this.settings)),$mvpdStateDomId.off().html($html),$mvpdStateDomId.on("click",".mvpdLogin",function(){adobePass.show()}),$mvpdStateDomId.on("click",".mvpdLogout",function(){accessEnabler.logout()})))},AdobePass.prototype.entitlementLoaded=function(){accessEnabler.setRequestor(this.settings.requestorId),
accessEnabler.checkAuthentication()},AdobePass.prototype.setAuthenticationStatus=function(isLoggedIn){isLoggedIn?(accessEnabler.getSelectedProvider(),removeControlBlockers()):(this.renderMvpdState(),accessEnabler.getAuthentication())},AdobePass.prototype.selectedProvider=function(provider){var mrss,providerId=provider.MVPD;provider=this.settings.preferredProviders.filter(function(element){return element.ID===providerId}),provider=provider.length>0?provider[0]:{ID:providerId,logoUrl:this.settings.defaultLogoUrl,displayName:"Programming Provider"},this.settings.currentProvider=provider,this.renderMvpdState(),mrss='<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title>'+this.settings.requestorId+"</title><item><title>Unknown</title></item></channel></rss>",accessEnabler.getAuthorization(mrss)},AdobePass.prototype.displayProviderDialog=function(providers){var excludedProvidersCsv,currentProvider,index=0;if(this.settings.providers=[],this.settings.excludedProviders.length>0)for(excludedProvidersCsv=this.settings.excludedProviders.join();index<providers.length;index++)currentProvider=providers[index],-1===excludedProvidersCsv.indexOf(currentProvider.ID)&&this.settings.providers.push(currentProvider);else this.settings.providers=providers;this.render(),this.settings.promptImmediately&&this.show()},AdobePass.prototype.setToken=function(providerRss,authToken){var playerId,player;this.settings.authToken=authToken;for(playerId in SNI.Video.Players)SNI.Video.Players.hasOwnProperty(playerId)&&(player=SNI.Video.Players[playerId],player.loadReleaseUrl(player.currentVideo.releaseUrl,player.pdk.autoplay))},$(document).ready(function(){SNI.Video.Defaults.adobePass.enabled&&0===SNI.Video.Players.length&&SNI.Video.AdobePass()}),SNI.Video.AdobePass=function(player,settings){return singletonCreated||(singletonCreated=!0,adobePassSingleton=new AdobePass(player,settings)),player&&settings&&settings.enabled&&(insertControlBLocker(player),player.subscribe("PlayerReady",function(){insertControlBLocker(player)}),player.loadReleaseUrl=function(url,ap){removeControlBlockers(player),"boolean"==typeof player.currentVideo.restricted&&player.currentVideo.restricted&&(adobePassSingleton.settings.authToken?(SNI.Video.Util.log("Updating release URL with auth token","SNI.Video.AdobePass","INFO"),url+="&auth="+encodeURIComponent(adobePassSingleton.settings.authToken),player.currentVideo.releaseUrl=url):(insertControlBLocker(player),SNI.Video.Util.log("Preventing autoPlay because we do not have an auth token","SNI.Video.AdobePass","INFO"),ap=!1)),SNI.Video.Player.prototype.loadReleaseUrl.call(player,url,ap)}),adobePassSingleton}}(),function(){"use strict";function AkamaiHD(player,settings){function isIOS8(){var deviceAgent=navigator.userAgent.toLowerCase(),regex=/(iphone|ipod|ipad).* os 8_/;return regex.test(deviceAgent)}return SNI.Video.Util.log("AkamaiHD initialialization script called.","SNI.Video.AkamaiHD","INFO"),isIOS8()?void SNI.Video.Util.log("AkamaiHD disabled on iOS8 devices do to PDK bug.","SNI.Video.AkamaiHD","INFO"):(this.player=player,this.settings=settings,void SNI.Video.Plugins.registerPdkPlugin(player,"AkamaiHD",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings))}SNI.Video.AkamaiHD=function(player,settings){return new AkamaiHD(player,settings)}}(),function(){"use strict";function AlternateEndframe(player,settings){var containerId=player.pdk.containerId;SNI.Video.Util.log("Alternate Endframe initialialization script called.","SNI.Video.AlternateEndframe","INFO"),this.player=player,this.cardId=containerId+cardClass,this.settings=settings,$pdk.controller.addPlayerCard("forms",this.cardId,root,"urn:theplatform:pdk:area:media",{},this,1,[player.pdk.scopes]),player.subscribe("OnReleaseEnd",this.OnReleaseEnd.bind(this))}var cardClass="alternateEndframe",root='<div class="'+cardClass+'"></div>';AlternateEndframe.prototype.OnReleaseEnd=function(){this.player.endedNaturally&&$pdk.controller.showPlayerCard("forms",this.cardId,"urn:theplatform:pdk:area:player",{},[this.player.pdk.scopes])},AlternateEndframe.prototype.show=function(){var copy,$container=this.player.$container.find(" ."+cardClass),$target=$("#"+this.settings.frameId);$target.length>0&&(copy=$target.children().clone(!0),$container.append(copy))},AlternateEndframe.prototype.hide=$.noop,SNI.Video.AlternateEndframe=function(player,settings){return new AlternateEndframe(player,settings)}}(),function(){"use strict";SNI.Video.channelArrayToObject=function(channelSettings,startingChannelIndex){var channelObject=channelSettings;return"array"===$.type(channelSettings)&&(channelObject={enabled:!0,startingChannelIndex:startingChannelIndex||0,channels:channelSettings}),channelObject}}(),function(){"use strict";function scrubChannels(channels){return $.each(channels,function(channelIdx,channel){$.each(channel.videos,function(videoIdx,video){$.isEmptyObject(video)&&channels[channelIdx].videos.splice(videoIdx,1)})}),channels}function Channels(player,settings){SNI.Video.Util.log("Channels initialialization script called.","SNI.Video.Channels","INFO"),this.player=player,this.settings=SNI.Video.channelArrayToObject(settings,player.config.startingChannelIndex),player.currentChannelIdx=this.settings.startingChannelIndex,player.currentVideoIdx=this.settings.channels[player.currentChannelIdx].start||0,this.settings.channels=scrubChannels(this.settings.channels),SNI.Video.Util.log("Instantiated channel player with "+this.settings.channels.length+" channels","SNI.Video.Player","INFO"),this.setCurrentVideo(player.currentVideoIdx),player.setCurrentVideo=this.setCurrentVideo.bind(this),player.loadVideo=this.loadVideo.bind(this),player.setCurrentChannel=this.setCurrentChannel.bind(this),player.loadChannel=this.loadChannel.bind(this),player.getVideoUrl=this.getVideoUrl.bind(this),player.getNext=this.getNext.bind(this),player.hasNext=this.hasNext.bind(this),player.playNext=this.playNext.bind(this),player.hasPrevious=this.hasPrevious.bind(this),player.playPrevious=this.playPrevious.bind(this)}Channels.prototype.ensureConfig=function(){"array"===$.type(this.player.config.channels)&&this.player.config.channels!=this.settings.channels&&(this.settings.channels=this.player.config.channels)},Channels.prototype.setCurrentVideo=function(index){this.ensureConfig();var i=this.player.currentChannelIdx;index<this.settings.channels[i].total&&(this.settings.channels[i].currentVideoIdx=index,this.player.currentVideo=this.settings.channels[i].videos[index],this.player.currentVideoIdx=index)},Channels.prototype.loadVideo=function(videoId,channelId){this.ensureConfig();var videoIdx,channelIdx=null;return channelIdx=channelId?SNI.Video.Util.getIndex(channelId,this.settings.channels):this.player.currentChannelIdx,(videoIdx=SNI.Video.Util.getIndex(videoId,this.settings.channels[channelIdx].videos))?void this.loadChannel(channelIdx,videoIdx):(SNI.Video.Util.log("Video ID "+videoId+" not found in channel "+channelIdx,"SNI.Video.Player.loadVideo","ERROR"),null)},Channels.prototype.setCurrentChannel=function(index){this.ensureConfig(),SNI.Video.Util.log("Setting channel to "+index,"SNI.Video.Player.setCurrentChannel","INFO"),index<this.settings.channels.length&&(this.player.currentChannelIdx=index,this.player.currentVideo=this.settings.channels[index].videos[0],this.player.currentVideoIdx=0)},Channels.prototype.loadChannel=function(channelIdx,videoIdx){this.ensureConfig(),videoIdx||(videoIdx=0),this.setCurrentChannel(channelIdx),this.setCurrentVideo(videoIdx),this.player.loadReleaseUrl(this.player.currentVideo.releaseUrl,!0)},Channels.prototype.getVideoUrl=function(index){return this.ensureConfig(),index<this.settings.channels[this.player.currentChannelIdx].total?this.settings.channels[this.player.currentChannelIdx].videos[index].releaseUrl:void 0},Channels.prototype.getNext=function(){return this.ensureConfig(),this.hasNext()?this.settings.channels[this.player.currentChannelIdx].videos[this.player.currentVideoIdx+1]:(SNI.Video.Util.log("Reached the end of the channel. Looping to the first video in this channel.","SNI.Video.Player.getNext","INFO"),this.settings.channels[this.player.currentChannelIdx].videos[0])},Channels.prototype.hasNext=function(){return this.ensureConfig(),this.player.currentVideoIdx+1<this.settings.channels[this.player.currentChannelIdx].total},Channels.prototype.playNext=function(){this.ensureConfig(),this.hasNext()?this.setCurrentVideo(this.player.currentVideoIdx+1):this.setCurrentVideo(0),this.player.loadReleaseUrl(this.player.currentVideo.releaseUrl,!0)},Channels.prototype.hasPrevious=function(){return this.ensureConfig(),this.player.currentVideoIdx-1>=0},Channels.prototype.playPrevious=function(){this.ensureConfig(),this.hasPrevious()&&(this.setCurrentVideo(this.player.currentVideoIdx-1),this.player.loadReleaseUrl(this.player.currentVideo.releaseUrl,!0))},SNI.Video.Channels=function(player,settings){return new Channels(player,settings)}}(),function(){"use strict";function getTextEdgeStyle(textEdgeName){switch(textEdgeName){case"Depressed":return"2px -2px 1px #000000";case"DropShadow":return"0px 3px 1px #000000";case"Raised":return"2px 2px 1px #000000";case"Uniform":return"2px 0px 1px #000000, 0px 2px 1px #000000, -2px 0px 1px #000000, 0px -2px 1px #000000";default:return"none"}}function sanitizeStyleSettings(settings){return settings.fontSize&&"string"==typeof settings.fontSize&&(settings.fontSize=parseFloat(settings.fontSize)),settings.opacity&&"string"==typeof settings.opacity&&(settings.opacity=parseFloat(settings.opacity)),settings.padding&&"string"==typeof settings.padding&&(settings.padding=parseFloat(settings.padding)),("null"===settings.backgroundColor||""===settings.backgroundColor)&&(settings.backgroundColor="#000000"),settings}function ClosedCaptioning(player,settings){var containerId=player.pdk.containerId;SNI.Video.Util.log("Closed Captioning initialialization script called.","SNI.Video.ClosedCaptioning","INFO"),this.player=player,this.cardId=containerId+cardClass,this.settings=settings,this.subtitleStyles={},this.subtitlesEnabled=!1,this.subtitlesFrameOpen=!1,this.subtitlesOverlayEnabled=!1,$pdk.controller.addPlayerCard("forms",this.cardId,root,"urn:theplatform:pdk:area:player",{},this,1,[player.pdk.scopes]),player.subscribe("OnMediaStart",this.OnMediaStart.bind(this)),player.subscribe("OnGetSubtitleLanguage",this.OnGetSubtitle.bind(this)),player.subscribe("OnGetSubtitleStyle",this.OnGetSubtitleStyle.bind(this)),player.subscribe("OnMediaUnpause",this.OnMediaUnpause.bind(this)),player.subscribe("OnShowFullScreen",this.OnShowFullScreen.bind(this))}var cardClass="ccFrame",root='<div class="'+cardClass+'"></div>';ClosedCaptioning.prototype.OnMediaStart=function(){this.subtitlesOverlayEnabled=!0},ClosedCaptioning.prototype.OnShowFullScreen=function(payload){payload.data?this.close():"safari_ipad"===$pdk.userAgentAxis&&(SNI.Video.Util.log("Disabling Subtitles.","this","INFO"),this.subtitlesEnabled=!1,$pdk.controller.setSubtitleLanguage("none",[this.player.pdk.containerId]))},ClosedCaptioning.prototype.OnGetSubtitleStyle=function(subtitleStyleObject){this.subtitleStyles=subtitleStyleObject.data||this.settings.defaultSettings},ClosedCaptioning.prototype.OnMediaUnpause=function(){this.playInterrupted=!1,this.subtitlesFrameOpen=!1},ClosedCaptioning.prototype.OnGetSubtitle=function(subtitlePref){var langCode=subtitlePref.data.langCode,turningOff="none"===langCode,wasChanged=subtitlePref.data.wasChanged;turningOff||($pdk.controller.setShowSubtitles(!0,[this.player.pdk.containerId]),$pdk.controller.setSubtitleStyle(this.subtitleStyles,[this.player.pdk.containerId])),!this.subtitlesOverlayEnabled||turningOff||wasChanged?this.subtitlesEnabled=!turningOff:($pdk.controller.showFullScreen(!1,[this.player.pdk.containerId]),this.displayCCFrame())},ClosedCaptioning.prototype.displayCCFrame=function(){this.settings&&!this.subtitlesFrameOpen&&($pdk.controller.setShowSubtitles(!1,[this.player.pdk.containerId]),this.subtitlesFrameOpen=!0,$pdk.controller.showPlayerCard("forms",this.cardId,"urn:theplatform:pdk:area:player",{},[this.player.pdk.scopes]))},ClosedCaptioning.prototype.close=function(){$pdk.controller.setShowSubtitles(!0,[this.player.pdk.scopes]),$pdk.controller.hidePlayerCard("forms",this.cardId,[this.player.pdk.scopes]),this.playInterrupted=!1,this.subtitlesOverlayEnabled=!0,this.subtitlesFrameOpen=!1},ClosedCaptioning.prototype.show=function(){var $bgOn,closedCaptioning=this,player=this.player,containerId=player.pdk.containerId,template="closedCaptionFrame.jst",data=this.getSettingsDataForTemplate(),$html=$(SNI.Video.Templates[template](data)),$container=this.player.$container.find(" ."+cardClass);$container.append($html),$bgOn=$("#"+containerId+"_tpCCBGColor_on"),1===this.subtitleStyles.backgroundOpacity&&$bgOn.attr("checked",!0),$bgOn.bind("click",function(){var bgColor=closedCaptioning.subtitleStyles.backgroundColor||"#000000";$(".tpCCBGColors [value="+bgColor+"]").attr("checked",!0),closedCaptioning.setPreviewStyle()}),$container.find(".tpClose, .tpDone").bind("click",function(){var settings=closedCaptioning.getFormSettings();closedCaptioning.setPlayerStyle(settings)}),$container.find("input, select").bind("change",function(){closedCaptioning.setPreviewStyle()}),$container.find(".tpCCTextEdgePicker").each(function(){var $this=$(this),$input=$("#"+$this.attr("for")),value=$input.val();$this.find("div").css("text-shadow",getTextEdgeStyle(value))}),$container.find(".tpCCBGColors .tpCCColorPicker").bind("click",function(){$("#"+containerId+"_tpCCBGColor_on").attr("checked",!0),closedCaptioning.setPreviewStyle()}),this.setPreviewStyle()},ClosedCaptioning.prototype.hide=$.noop,ClosedCaptioning.prototype.getSettingsDataForTemplate=function(){var settingName,settingValue,templateOption,optionName,option,comparator,player=this.player,ccEnabled=this.subtitlesEnabled,settings=this.settings,userSettings=this.getUserSettings(),templateData={containerId:player.pdk.containerId,ccEnabled:ccEnabled,vpcBaseUrl:SNI.Video.vpcBaseUrl};$.extend(!0,templateData,settings,{defaultSettings:userSettings});for(settingName in templateData.defaultSettings)if(templateData.defaultSettings.hasOwnProperty(settingName)&&(settingValue="string"==typeof userSettings[settingName]?userSettings[settingName].toLowerCase():userSettings[settingName],templateOption=templateData[settingName]))for(optionName in templateOption)if(templateOption.hasOwnProperty(optionName)&&(option=templateOption[optionName],comparator="string"==typeof option.value?option.value.toLowerCase():option.value,comparator===settingValue)){option.selected=!0;break}return templateData},ClosedCaptioning.prototype.getUserSettings=function(){var defaults=this.settings.defaultSettings,pdkSettings=this.subtitleStyles,styles=$.extend(!0,{},defaults,pdkSettings);return styles},ClosedCaptioning.prototype.getFormSettings=function(){var containerId=this.player.pdk.containerId,$form=$("#"+containerId+"_tpCCControls"),bgEnabled=$("#"+containerId+"_tpCCBGColor_on")[0].checked,bgColor=bgEnabled?$form.find(".tpCCBGColors .input-hidden:radio:checked").val():"#000000",bgOpacity=bgEnabled?1:0,settings={backgroundOpacity:bgOpacity,backgroundColor:bgColor,fontColor:$form.find(".tpCCTextColors input:radio:checked").val(),fontEdge:$form.find(".tpCCTextEdge input:radio:checked").val(),fontFamily:$form.find(".tpCCFont select").val(),fontSize:$form.find(".tpCCTextSize input:radio:checked").val(),opacity:$form.find(".tpCCOpacity input:radio:checked").val()};return settings},ClosedCaptioning.prototype.setPlayerStyle=function(settings){var player=this.player,containerId=player.pdk.containerId,ccEnabled=$("#"+containerId+"_tpCCRadioOn").is(":checked");this.subtitlesOverlayEnabled=!1,ccEnabled?(SNI.Video.Util.log("Enabling Subtitles.","this","INFO"),this.subtitlesEnabled=!0,$pdk.controller.setSubtitleLanguage("en",[player.pdk.containerId])):(SNI.Video.Util.log("Disabling Subtitles.","this","INFO"),this.subtitlesEnabled=!1,$pdk.controller.setSubtitleLanguage("none",[player.pdk.containerId])),settings=sanitizeStyleSettings(settings),$.extend(!0,this.settings.defaultSettings,settings,{globalDataType:"com.theplatform.pdk.data::SubtitleStyle"}),$pdk.controller.setSubtitleStyle(this.settings.defaultSettings,[player.pdk.containerId]),this.close(),$pdk.controller.getSubtitleStyle([player.pdk.containerId])},ClosedCaptioning.prototype.setPreviewStyle=function(){var settings=this.getFormSettings(),$preview=this.player.$container.find(" ."+cardClass+" .tpCCPreview"),$text=$preview.find(".tpCCText").removeClass().addClass("tpCCText");$preview.attr("style",""),1===settings.backgroundOpacity?$preview.css("background-color",settings.backgroundColor):$preview.css("background-color","transparent"),$text.attr("style","color:"+settings.fontColor+" !important;"),$preview.css("text-shadow",getTextEdgeStyle(settings.fontEdge)),$text.addClass(settings.fontEdge),$preview.css("font-family",settings.fontFamily),$preview.css("font-size",settings.fontSize+"em"),$preview.css("opacity",settings.opacity)},SNI.Video.ClosedCaptioning=function(player,settings){return new ClosedCaptioning(player,settings)}}(),function(){"use strict";function Comscore(player,settings){SNI.Video.Util.log("Comscore initialialization script called.","SNI.Video.Comscore","INFO"),this.player=player,this.settings=settings,SNI.Video.Plugins.registerPdkPlugin(player,"comscore",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings)}SNI.Video.Comscore=function(player,settings){return new Comscore(player,settings)}}(),function(){"use strict";function Embed(player,settings){var containerId=player.pdk.containerId;SNI.Video.Util.log("Embed initialialization script called.","SNI.Video.Embed","INFO"),this.player=player,this.cardId=containerId+cardClass,this.settings=settings,this.templateData={},$pdk.controller.addPlayerCard("forms",this.cardId,root,"urn:theplatform:pdk:area:media",{},this,1,[player.pdk.scopes]),player.subscribe("OnLoadReleaseUrl",this.OnLoadReleaseUrl.bind(this)),player.subscribe("OnSetReleaseUrl",this.OnLoadReleaseUrl.bind(this)),this.setTemplateData(this.settings)}var cardClass="embedFrame",root='<div class="'+cardClass+'"></div>';Embed.prototype.OnLoadReleaseUrl=function(payload){this.setTemplateData({releaseUrl:encodeURIComponent(payload.data.url||payload.data)})},Embed.prototype.getTemplateData=function(){var data=this.templateData;return this.player.currentVideo.embedUrl?data.fullUrl=this.player.currentVideo.embedUrl:(data.fullUrl=data.baseUrl+data.embedUrl,data.fullUrl+=data.fullUrl.indexOf("?")>-1?"&":"?",data.fullUrl+="media="+data.releaseUrl),data},Embed.prototype.setTemplateData=function(newValues){var prop,length,currentOption,index=0;for(prop in newValues)newValues.hasOwnProperty(prop)&&(this.templateData[prop]=newValues[prop]);if(newValues.width)if("auto"===newValues.width)this.templateData.hasExplicitSize=!1;else for(this.templateData.hasExplicitSize=!0,length=this.templateData.options.length;length>index;index++)currentOption=this.templateData.options[index],currentOption.width==newValues.width&&(this.templateData.width=currentOption.width,this.templateData.height=currentOption.height,index=length)},Embed.prototype.display=function(){$pdk.controller.showFullScreen(!1,[this.player.pdk.containerId]),$pdk.controller.showPlayerCard("forms",this.cardId,"urn:theplatform:pdk:area:player",{},[this.player.pdk.scopes])},Embed.prototype.close=function(){$pdk.controller.hidePlayerCard("forms",this.cardId,[this.player.pdk.scopes])},Embed.prototype.show=function(){var embedInput,embedSelect,embed=this,settings=this.getTemplateData(),$html=$(SNI.Video.Templates["embed.jst"](settings)),$container=this.player.$container.find(" ."+cardClass);$container.html($html),embedInput=$container.find("textarea")[0],embedInput.focus(),embedInput.select(),embedInput.setSelectionRange(0,9999),$container.find(".tpClose, .tpDone").on("click",function(){embed.close()}),embedSelect=$container.find("select"),embedSelect.val(settings.width),embedSelect.change(function(){embed.setTemplateData({width:embedSelect.val()}),embed.show()})},Embed.prototype.hide=$.noop,window.SNI.Video.Embed=function(player,settings){return new Embed(player,settings)}}(),SNI.Video.EmbedCallbackHack=function(sniPlayer){"use strict";var xmlString,context="SNI.Video.Players['"+sniPlayer.config.player.containerId+"'].modules.embed",functionString=context+".display.bind("+context+")";sniPlayer.config.player.layoutUrl.indexOf("skins/sni-default/layout.xml")>-1&&(xmlString='<?xml version="1.0"?><controls><card id="tpPreviewControls"><region id="tpAdCountdownRegion"><row id="tpAdCountdownContainer" percentWidth="80"><control id="tpAdCountdown"/></row></region><region id="tpBottomRegion" scale="1.0"><row><control id="tpPlay"/><group width="100%"><control id="tpScrubber"/><control id="tpCurrentTime"/><control id="tpTimeDivider" text="/"/><control id="tpTotalTime"/></group><control id="tpFullScreen"/><control id="tpVolume" expandDirection="up"/></row></region></card><card id="tpNormalControls"><region id="tpAdCountdownRegion"><row id="tpAdCountdownContainer" percentWidth="80"><control id="tpAdCountdown"/></row></region><region id="tpBottomRegion" scale="1.0"><row><control id="tpPlay"/><group width="100%"><control id="tpScrubber"/><control id="tpCurrentTime"/><control id="tpTimeDivider" text="/"/><control id="tpTotalTime"/></group><control id="tpButton" skin="CustomButtonSkin" callback="%%REPLACE_ME%%" /><control id="tpCC" /><control id="tpFullScreen" /><control id="tpVolume" expandDirection="up"/></row></region></card><card id="tpFullScreenControls"><region id="tpAdCountdownRegion"><row id="tpAdCountdownContainer" percentWidth="80"><control id="tpAdCountdown"/></row></region><region id="tpBottomRegion" scale="1.0"><row><control id="tpPlay"/><group width="100%"><control id="tpScrubber"/><control id="tpCurrentTime"/><control id="tpTimeDivider" text="/"/><control id="tpTotalTime"/></group><control id="tpButton" skin="CustomButtonSkin" callback="%%REPLACE_ME%%" /><control id="tpCC" /><control id="tpFullScreen"/><control id="tpVolume" expandDirection="up"/></row></region></card></controls> ',delete sniPlayer.config.player.layoutUrl,xmlString=xmlString.replace(/%%REPLACE_ME%%/g,functionString),sniPlayer.config.player.layout=xmlString)},function(){"use strict";function EmbedEndframe(player,settings){var containerId=player.pdk.containerId;SNI.Video.Util.log("EmbedEndframe initialialization script called.","SNI.Video.EmbedEndframe","INFO"),this.player=player,this.cardId=containerId+"_embedEndFrame",this.settings=settings,$pdk.controller.addPlayerCard("forms",this.cardId,root,"urn:theplatform:pdk:area:media",{},this,1,[player.pdk.scopes]),player.subscribe("OnReleaseEnd",this.OnReleaseEnd.bind(this))}var cardClass="embedEndFrame",root='<div class="'+cardClass+'"></div>';EmbedEndframe.prototype.OnReleaseEnd=function(){this.player.endedNaturally&&($pdk.controller.showFullScreen(!1,[this.player.pdk.containerId]),$pdk.controller.showPlayerCard("forms",this.cardId,"urn:theplatform:pdk:area:player",{},[this.player.pdk.scopes]))},EmbedEndframe.prototype.close=function(){$pdk.controller.hidePlayerCard("forms",this.cardId,[this.player.pdk.scopes])},EmbedEndframe.prototype.show=function(){var endFrame=this,settings=this.settings,$html=$(SNI.Video.Templates["embedEndframe.jst"](settings)),$container=this.player.$container.find(" ."+cardClass);$container.append($html),$container.find("button").click(function(){endFrame.close()})},EmbedEndframe.prototype.hide=$.noop,SNI.Video.EmbedEndframe=function(player,settings){return new EmbedEndframe(player,settings)}}(),function(){"use strict";function Endframe(player,settings){var containerId=player.pdk.containerId;SNI.Video.Util.log("Endframe initialialization script called.","SNI.Video.Endframe","INFO"),this.player=player,this.cardId=containerId+cardClass,this.settings=settings,$pdk.controller.addPlayerCard("forms",this.cardId,root,"urn:theplatform:pdk:area:player",{},this,1,[player.pdk.scopes]),player.subscribe("OnReleaseEnd",this.OnReleaseEnd.bind(this)),player.subscribe("OnLoadReleaseUrl",this.OnLoadReleaseUrl.bind(this)),player.subscribe("OnSetReleaseUrl",this.resetCountdown.bind(this)),player.subscribe("OnMediaStart",this.resetCountdown.bind(this))}var cardClass="endframe",root='<div class="'+cardClass+'"></div>';Endframe.prototype.OnLoadReleaseUrl=function(){0===this.player.$container.find(" ."+cardClass).length&&this.resetCountdown()},Endframe.prototype.OnReleaseEnd=function(){if(this.player.endedNaturally){if(this.player.isSingleVideo&&!this.settings.assets&&!this.settings.showEmptyEndframe)return;$pdk.controller.showPlayerCard("forms",this.cardId,"urn:theplatform:pdk:area:player",{},[this.player.pdk.scopes])}},Endframe.prototype.show=function(){var template,$html,endframe=this,context={},data=this.settings.assets,$container=this.player.$container.find(" ."+cardClass);this.player.isSingleVideo||(data=[],data[0]=this.player.getNext()),this.player.isSingleVideo&&data.length>0&&this.settings.showEmptyEndframe?this.currentCountdown=null:(this.currentCountdown=this.settings.endframeCountdown,$.each(data,function(i,video){var videoId="video"+i;context[videoId]=$.extend({},video),context[videoId].length=SNI.Video.Util.formatTime(video.length)})),context.countdown=SNI.Video.Util.formatTime(this.currentCountdown),300==this.player.$container.width()?(template="endframeMobile.jst",$container.addClass("small")):template="endframeFull.jst",$html=$(SNI.Video.Templates[template](context)),$container.append($html),this.settings.endframeClass&&$container.addClass(this.settings.endframeClass),$container.find(".replay").bind("click",function(e){endframe.replayCallback(e)}),$container.find(".upnext a").bind("click",function(e){endframe.player.isSingleVideo||(e.preventDefault(),endframe.resetCountdown(),endframe.player.playNext())}),context.video0&&this.updateCountdown(this,context.video0.url)},Endframe.prototype.hide=$.noop,Endframe.prototype.countdownCompleteCallback=function(nextUrl){this.resetCountdown(),nextUrl&&this.player.isSingleVideo?(SNI.Video.Util.isLocalStorageSupported()&&localStorage.setItem("SKIP_OMNITURE",!0),window.location.href=nextUrl):this.player.playNext()},Endframe.prototype.replayCallback=function(e){$pdk.controller.clickPlayButton([this.player.pdk.containerId]),this.resetCountdown(),e.preventDefault()},Endframe.prototype.resetCountdown=function(){this.countdownId&&clearInterval(this.countdownId)},Endframe.prototype.updateCountdown=function(player,nextUrl){var embed=this,$countdown=this.player.$container.find(" ."+cardClass+" .countdown");$countdown.length<=0||(this.countdownId=setInterval(function(){embed.currentCountdown--,0===embed.currentCountdown?($countdown.text(SNI.Video.Util.formatTime(embed.currentCountdown)),embed.countdownCompleteCallback(nextUrl)):$countdown.text(SNI.Video.Util.formatTime(embed.currentCountdown))},1e3))},SNI.Video.Endframe=function(player,settings){return new Endframe(player,settings)}}(),function(){"use strict";function Freewheel(player,settings){var containerId=player.config.player.containerId;SNI.Video.Util.log("Ads initialialization script called.","SNI.Video.Ads","INFO"),currentPlayerId=containerId,this.player=player,this.settings=settings,SNI.Video.Plugins.registerPdkPlugin(player,"ads",settings.pdkPlugin.settings,settings.pdkPlugin.html5Settings),player.subscribe("OnMediaStart",this.OnMediaStart.bind(this)),player.subscribe("OnMediaLoadStart",this.SetCurrentPlayer.bind(this)),player.subscribe("OnPlayButtonClicked",this.SetCurrentPlayer.bind(this)),player.config.player.autoplay===!1?this.setFreewheelContainer():(this.SetCurrentPlayer(),this.setFreewheelContainer())}var currentPlayerId,$freewheelAdHtml=$(SNI.Video.Templates["freewheel.jst"]());window.fw_config=function(){function formatVal(val){return val.replace(/\s/g,"_").replace(/&/g,"and").toLowerCase()}for(var keyValues,length,site,categoryDspName,siteSectionId,aamVals=decodeURIComponent(SNI.Video.Util.Cookie.get("aam_fw")).replace(/\;/g,"&").split("&").slice(0,35),autoplay="autoplay"==mdManager.getParameterString("videoPlayType")?!0:!1,$currentPlayer=$("#"+currentPlayerId),aam="",index=0,amcv=decodeURIComponent(SNI.Video.Util.Cookie.get("AMCV_BC501253513148ED0A490D45%40AdobeOrg")),amcvArr=amcv?amcv.split(/\|/):[],mcmidIdx=jQuery.inArray("MCMID",amcvArr);index<aamVals.length;index++)aam+="&"+aamVals[index];return keyValues={adkey1:formatVal(mdManager.getParameterString("AdKey1")),adkey2:formatVal(mdManager.getParameterString("AdKey2")),category:formatVal(mdManager.getParameterString("CategoryDspName")),externalCustomVisitor:SNI.Video.Util.Cookie.get("aam_did")||"",pagetype:formatVal(mdManager.getParameterString("Type")),playertype:formatVal(mdManager.getParameterString("PlayerType")),topic:formatVal(mdManager.getParameterString("Sponsorship")),subsection:formatVal(mdManager.getParameterString("SctnDspName")),uniqueid:formatVal(mdManager.getParameterString("UniqueId")),vgncontent:formatVal(mdManager.getParameterString("SctnDspName")),page_url:formatVal(window.location.href),pw:$currentPlayer.width(),ph:$currentPlayer.height(),mcmid:-1===mcmidIdx?"":amcvArr[mcmidIdx+1]},length=SNI.Video.Util.convertToSeconds(mdManager.getParameterString("videoRunTime")),site=SNI.Video.Util.getParameterByName("site")?SNI.Video.Util.getParameterByName("site"):mdManager.getParameterString("Site"),categoryDspName=SNI.Video.Util.getParameterByName("categorydspname")?SNI.Video.Util.getParameterByName("categorydspname"):mdManager.getParameterString("CategoryDspName"),siteSectionId=SNI.Video.Util.getParameterByName("siteSectionId")?SNI.Video.Util.getParameterByName("siteSectionId"):mdManager.getParameterString("Site")+"-"+mdManager.getParameterString("CategoryDspName"),!isNaN(parseFloat(length))&&isFinite(length)&&(length=Math.floor(parseFloat(length)),keyValues.format=formatVal(length>480?"long":"short")),window.adsData&&window.adsData.amazon_video_targeting&&(SNI.Video.Util.log("SniAds extending the FW KV pairs with amazon values.","SNI.Video.Ads","INFO"),$.extend(keyValues,window.adsData.amazon_video_targeting)),mdManager.getParameterString("videoGUID")&&(keyValues.video_uuid=formatVal(mdManager.getParameterString("videoGUID"))),{autoplay:autoplay,siteSectionId:formatVal(siteSectionId),customId:formatVal(mdManager.getParameterString("videoNlvid")+"-oo"),duration:formatVal(length+""),keyValues:$.param(keyValues)+aam}},window.SNI.Video.Events.adEvent=function(event){var data;"adStart"===event.type&&(data=event.data.customData.split(";"),mdManager.setParameter("videoAdTitle",data[0]),mdManager.setParameter("videoAdRunTime",Math.round(event.data.length)),mdManager.setParameter("videoAdPodName",data[1]),mdManager.setParameter("videoAdPodPosition",data[2]),SNI.Video.Util.log("Received an ad: Title: "+data[0]+"; Length: "+event.data.length+"; PodName: "+data[1]+"; PodPosition: "+data[2],"SNI.Video.Events.adEvent","INFO"))},Freewheel.prototype.OnMediaStart=function(event){var adRuntime,clip=event.data;!clip.baseClip.isAd&&1===clip.clipIndex&&this.player.config.player.autoplay&&(adRuntime=parseInt(mdManager.getParameterString("videoAdRunTime"),0),adRuntime||(SNI.Video.Util.log("No preroll available and autoplay is true: setting the default DART bigbox","SNI.Video.Ads.OnMediaStart","INFO"),this.setFreewheelContainer()))},Freewheel.prototype.SetCurrentPlayer=function(){currentPlayerId=this.player.pdk.containerId},Freewheel.prototype.setFreewheelContainer=function(){var containerId=this.settings.adContainerId,$container=$("#"+containerId);return $container.length<1?void SNI.Video.Util.log("#"+containerId+" element is not present in the DOM, can't deliver bigbox ad","SNI.Video.Ads.OnPlayerLoaded","WARN"):(SNI.Video.Util.log("Injecting FreeWheel markup into the #"+containerId+" container","SNI.Video.Ads","INFO"),void $container.html($freewheelAdHtml))},SNI.Video.Freewheel=function(player,settings){return new Freewheel(player,settings)}}(),function(){"use strict";
function Ias(){window.__IntegralASDiagnosticCall||(SNI.Video.Util.log("Adding IAS Diagnostic","SNi.Video.Ias","WARN"),$.getScript(window.location.protocol+"//pixel.adsafeprotected.com/jload?anId=8001&advId="+encodeURIComponent(mdManager.getSite())+"campId="+encodeURIComponent(mdManager.getSponsorship()?mdManager.getSponsorship():"empty")).done(function(){SNI.Video.Util.log("IAS Diagnostic loaded.")}).fail(function(){SNI.Video.Util.log("There was a problem loading IAS")}))}var iasSingleton,singletonCreated=!1;SNI.Video.Ias=function(){return singletonCreated||(singletonCreated=!0,iasSingleton=new Ias),iasSingleton}}(),function(){"use strict";function Nielsen(player,settings){return SNI.Video.Util.log("Nielsen initialialization script called.","SNI.Video.Nielsen","INFO"),this.player=player,this.settings=settings,this.settings.apid?window.NOLCMB?(this.gg1=new window.NOLCMB.ggInitialize(this.settings),player.subscribe("OnLoadReleaseUrl",this.setVideoMeta.bind(this)),void player.subscribe("OnSetReleaseUrl",this.setVideoMeta.bind(this))):void SNI.Video.Util.log("Disabling Nielsen due to missing JS","SNI.Video.Nielsen","WARN"):void SNI.Video.Util.log('Disabling Nielsen due to unintialized "apid" value',"SNI.Video.Nielsen","WARN")}Nielsen.prototype.setVideoMeta=function(){var channel=this.player.currentChannelIdx;return SNI.Video.Util.isMdmLoaded()?(mdManager.setParameter("NielsenAPID",this.settings.apid),mdManager.setParameter("NielsenAPN",this.settings.apn),mdManager.setParameter("videoTitle",this.player.currentVideo.title),mdManager.setParameter("DPRProgramName",this.player.currentVideo.showTitle),mdManager.setParameter("videoType","content"),mdManager.setParameter("DPRFlag","true"),mdManager.setParameter("videoPlayType",this.player.config.player.autoplay?"autoplay":"manual"),mdManager.setParameter("videoRunTime",this.player.currentVideo.length),mdManager.setParameter("videoEvents",[]),void mdManager.setParameter("videoPlaylistCount",this.player.modules.channels?this.player.modules.channels.settings.channels[channel].total:0)):void SNI.Video.Util.log("mdManager is not available","SNI.Video.Analytics.setVideoMeta","ERROR")},SNI.Video.Nielsen=function(player,settings){return new Nielsen(player,settings)}}(),function(){"use strict";function Omniture(player,settings){SNI.Video.Util.log("Omniture initialialization script called.","SNI.Video.Omniture","INFO"),this.player=player,this.settings=settings,this.adPosition=1,this.adCompleted=!1,this.preRollCompleted=!1,this.lastClipWasAd=!1,this.previousTitle="",player.subscribe("OnShowFullScreen",this.OnShowFullScreen.bind(this)),player.subscribe("OnLoadReleaseUrl",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnLoadReleaseUrl.bind(this))),player.subscribe("OnMediaStart",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnMediaStart.bind(this))),player.subscribe("OnMediaPlay",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnMediaPlay.bind(this))),player.subscribe("OnMediaEnd",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnMediaEnd.bind(this))),player.subscribe("OnReleaseEnd",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnReleaseEnd.bind(this))),player.subscribe("OnMediaPause",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnMediaPause.bind(this))),player.subscribe("OnMediaUnpause",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnMediaUnpause.bind(this))),player.subscribe("OnMediaSeek",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnMediaSeek.bind(this))),player.subscribe("OnMediaBuffer",SNI.Video.Util.sequence(this.setVideoMeta.bind(this),this.OnMediaBuffer.bind(this)))}Omniture.prototype.setVideoMeta=function(event){if(!SNI.Video.Util.isMdmLoaded())return void SNI.Video.Util.log("mdManager is not available","SNI.Video.Analytics.setVideoMeta","ERROR");var channel=this.player.currentChannelIdx;mdManager.setParameter("videoTitle",this.player.currentVideo.title),mdManager.setParameter("videoPlayerType",SNI.Video.Util.getRuntime()),mdManager.setParameter("showTitle",this.player.currentVideo.showTitle),mdManager.setParameter("videoPlayerName","PDK"),mdManager.setParameter("videoChannelName",this.player.isSingleVideo?"no playlist":this.player.modules.channels.settings.channels[this.player.currentChannelIdx].title),mdManager.setParameter("videoPlayType",this.player.config.player.autoplay?"autoplay":"manual"),mdManager.setParameter("videoNLVID",this.player.currentVideo.nlvid),mdManager.setParameter("videoSCRID",this.player.currentVideo.scrid),mdManager.setParameter("videoCMSID",this.player.currentVideo.cmsid),mdManager.setParameter("videoPlaylistCount",this.player.modules.channels?this.player.modules.channels.settings.channels[channel].total:0),mdManager.setParameter("videoRunTime",this.player.currentVideo.length),mdManager.setParameter("videoScreenType",this.player.config.player.isFullscreen?"full screen":"normal"),mdManager.setParameter("videoSponsor",this.player.currentVideo.sponsor),this.player.currentVideo.sniGUID&&mdManager.setParameter("videoGUID",this.player.currentVideo.sniGUID),"undefined"!=typeof event.data.clip&&event.data.clip.baseClip.isAd?mdManager.setParameter("videoAdTitle","Ad Play :: ID "+event.data.clip.id):mdManager.setParameter("videoAdTitle",""),mdManager.setParameter("videoEvents",[]),mdManager.setParameter("videoPublisherId",event.data&&event.data.baseClip&&event.data.baseClip.author?event.data.baseClip.author:"not available")},Omniture.prototype.resetCounts=function(){SNI.Video.Util.log("Resetting all flags.","SNI.Video.Events.resetCounts","INFO"),this.adPosition=1,this.preRollCompleted=!1,this.adCompleted=!1,this.lastClipWasAd=!1},Omniture.prototype.OnLoadReleaseUrl=function(){this.resetCounts(),""===this.previousTitle&&(this.previousTitle=this.player.currentVideo.title)},Omniture.prototype.OnMediaStart=function(event){var adRuntime,clip=event.data;SNI.Video.Util.log("Media start","SNI.Video.Omniture.OnMediaStart","INFO"),this.player.isSingleVideo||0===this.player.currentVideoIdx||void 0!==this.player.currentVideo.hasPlayed||mdManager.setParameter("videoPlaylistCount","");try{clip.baseClip.isAd?(adRuntime=event.data.length,mdManager.setParameter("videoAdTitle","Ad Play :: ID "+clip.id),this.preRollCompleted?mdManager.setParameter("videoAdPodName","midroll"):mdManager.setParameter("videoAdPodName","preroll"),mdManager.setParameter("videoAdPodPosition",this.adPosition),adRuntime=Math.round(adRuntime/1e3),mdManager.setParameter("videoAdRunTime",adRuntime),SNI.Video.Util.log("Calling Open on Ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime)+" Pod Name: "+mdManager.getParameterString("videoAdPodName")+" Ad Position: "+mdManager.getParameterString("videoAdPodPosition"),"SNI.Video.Omniture.OnMediaStart","DEBUG"),s.Media.openAd(mdManager.getParameterString("videoAdTitle"),adRuntime,"PDK",this.player.currentVideo.title,mdManager.getParameterString("videoAdPodName"),mdManager.getParameterString("videoAdPodPosition")),SNI.Video.Util.log("Calling Play on Ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.OnMediaStart","DEBUG"),s.Media.play(mdManager.getParameterString("videoAdTitle"),SNI.Video.Util.formatOffset(clip.mediaTime),"PDK",this.player.currentVideo.title,mdManager.getParameterString("videoAdPodName"),mdManager.getParameterString("videoAdPodPosition")),SNI.Video.Util.log("Clip "+(event.data.clipIndex+1)+" is an ad :: Length: "+adRuntime+"s; Title: "+mdManager.getParameterString("videoAdTitle"),"SNI.Video.Omniture.OnMediaStart","INFO")):(adRuntime=parseInt(mdManager.getParameterString("videoAdRunTime"),0),this.lastClipWasAd=!1,1===event.data.clipIndex&&(SNI.Video.Util.log("Calling Open on Content: "+this.player.currentVideo.title+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaLength),"SNI.Video.Omniture.OnMediaStart","DEBUG"),s.Media.open(this.player.currentVideo.title,SNI.Video.Util.formatOffset(clip.mediaLength),"PDK")),SNI.Video.Util.log("Calling Play on Content: "+this.player.currentVideo.title+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Events.onMediaStart","DEBUG"),s.Media.play(this.player.currentVideo.title,SNI.Video.Util.formatOffset(clip.mediaTime)),this.player.isSingleVideo?SNI.Video.Util.log("Playing single video, clip "+(event.data.clipIndex+1),"SNI.Video.Omniture.OnMediaStart","INFO"):SNI.Video.Util.log("Playing channel "+(this.player.currentChannelIdx+1)+"/"+this.player.modules.channels.settings.channels.length+", video "+(this.player.currentVideoIdx+1)+"/"+this.player.modules.channels.settings.channels[this.player.currentChannelIdx].videos.length,"SNI.Video.Omniture.OnMediaStart","INFO"))}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.OnMediaStart","ERROR")}},Omniture.prototype.OnMediaPlay=function(event){var clip=event.data;SNI.Video.Util.log("Media play","SNI.Video.Omniture.onMediaPlay","INFO");try{this.adCompleted?(this.adCompleted=!1,SNI.Video.Util.log("Ignoring call to play as ad just completed on content: "+this.player.currentVideo.title+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Events.onMediaPlay","DEBUG")):(SNI.Video.Util.log("Calling Play -- resuming or buffering on: "+this.player.currentVideo.title+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Events.onMediaPlay","DEBUG"),s.Media.play(this.player.currentVideo.title,SNI.Video.Util.formatOffset(clip.mediaTime)))}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaPlay","ERROR")}},Omniture.prototype.OnMediaEnd=function(event){var clip=event.data;SNI.Video.Util.log("Media ended","SNI.Video.Omniture.OnMediaEnd","INFO"),this.lastClipWasAd=clip.baseClip.isAd;try{clip.baseClip.isAd?(this.adPosition++,this.preRollCompleted||(this.preRollCompleted=!0,this.adPosition=1),s.Media.stop(mdManager.getParameterString("videoAdTitle"),SNI.Video.Util.formatOffset(clip.mediaTime)),s.Media.close(mdManager.getParameterString("videoAdTitle")),SNI.Video.Util.log("Calling Stop and Close on Ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime)+" Pod Name: "+mdManager.getParameterString("videoAdPodName")+" Ad Position: "+mdManager.getParameterString("videoAdPodPosition"),"SNI.Video.Events.onMediaStart","DEBUG"),this.adCompleted=!0):(s.Media.stop(this.player.currentVideo.title,SNI.Video.Util.formatOffset(clip.mediaTime)),SNI.Video.Util.log("Called Stop on Content: "+this.player.currentVideo.title+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaEnd","DEBUG"))}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaEnd","ERROR")}},Omniture.prototype.OnReleaseEnd=function(){SNI.Video.Util.log("Release ended","SNI.Video.Omniture.onReleaseEnd","INFO");try{var previousTitle=""===this.previousTitle?this.player.currentVideo.title:this.previousTitle;s.Media.close(previousTitle),SNI.Video.Util.log("Release ended. Resetting adPosition and calling Close on open data: "+previousTitle,"SNI.Video.Omniture.onReleaseEnd","DEBUG"),this.adPosition=0,this.resetCounts(),this.previousTitle=this.player.currentVideo.title,mdManager.setParameter("videoPlaylistCount",""),this.player.currentVideoIdx>0&&(this.player.modules.channels.settings.channels[this.player.currentChannelIdx].videos[this.player.currentVideoIdx-1].hasPlayed=!0)}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onReleaseEnd","ERROR")}},Omniture.prototype.OnMediaPause=function(event){var clip=event.data.clip;SNI.Video.Util.log("Playback paused at "+parseFloat(clip.mediaTime/1e3)+"s","SNI.Video.Omniture.onMediaPause","INFO");try{clip.baseClip.isAd?(SNI.Video.Util.log("Called stop on ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaPause","DEBUG"),s.Media.stop(mdManager.getParameterString("videoAdTitle"),SNI.Video.Util.formatOffset(clip.mediaTime)),SNI.Video.Util.mdmAppend("videoEvents","pause")):(SNI.Video.Util.log("Called stop on content: "+this.player.currentVideo.title+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaPause","DEBUG"),s.Media.stop(this.player.currentVideo.title,SNI.Video.Util.formatOffset(clip.mediaTime)),SNI.Video.Util.mdmAppend("videoEvents","pause"))}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaPause","DEBUG")}},Omniture.prototype.OnMediaUnpause=function(event){var clip=event.data.clip;SNI.Video.Util.log("Playback resumed at "+parseFloat(clip.mediaTime/1e3)+"s","SNI.Video.Omniture.onMediaUnpause","INFO");try{clip.baseClip.isAd?(SNI.Video.Util.log("Called play on ad: "+mdManager.getParameterString("videoAdTitle")+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaUnPause","DEBUG"),s.Media.play(mdManager.getParameterString("videoAdTitle"),SNI.Video.Util.formatOffset(clip.mediaTime)),SNI.Video.Util.mdmAppend("videoEvents","resume")):(SNI.Video.Util.log("Called play on content: "+this.player.currentVideo.title+" at offset: "+SNI.Video.Util.formatOffset(clip.mediaTime),"SNI.Video.Omniture.onMediaUnPause","DEBUG"),s.Media.play(this.player.currentVideo.title,SNI.Video.Util.formatOffset(clip.mediaTime)),SNI.Video.Util.mdmAppend("videoEvents","resume"))}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaUnpause","ERROR")}},Omniture.prototype.OnMediaSeek=function(event){var seekStart,seekStop;if(event.data&&event.data.start&&event.data.end){seekStart=SNI.Video.Util.formatOffset(event.data.start.mediaTime),seekStop=SNI.Video.Util.formatOffset(event.data.end.mediaTime),SNI.Video.Util.log("Player scrubbed from "+seekStart+"s to "+seekStop+"s","SNI.Video.Events.onMediaSeek","INFO");try{SNI.Video.Util.mdmAppend("videoEvents","video scrubbed"),s.Media.stop(this.player.currentVideo.title,seekStart),s.Media.play(this.player.currentVideo.title,seekStop)}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Events.onMediaSeek","ERROR")}}},Omniture.prototype.OnShowFullScreen=function(event){var isFullScreen=!event.data,$container=this.player.$container;$container.toggleClass("fullscreen",!isFullScreen),isFullScreen?(SNI.Video.Util.log("Exiting fullscreen...","SNI.Video.Omniture.onShowFullScreen","INFO"),SNI.Video.Util.mdmAppend("videoEvents","exit full screen"),this.player.config.player.isFullscreen=!1):(SNI.Video.Util.log("Entering fullscreen...","SNI.Video.Omniture.onShowFullScreen","INFO"),SNI.Video.Util.mdmAppend("videoEvents","enter full screen"),this.player.config.player.isFullscreen=!0),mdManager.setParameter("videoScreenType",this.player.config.player.isFullscreen?"full screen":"normal")},Omniture.prototype.OnMediaBuffer=function(event){var clip=event.data;SNI.Video.Util.log("Video buffering","SNI.Video.Omniture.onMediaBuffer","INFO");try{SNI.Video.Util.log("Calling stop on: "+this.player.currentVideo.title,"SNI.Video.Omniture.onMediaBuffer","DEBUG"),s.Media.stop(this.player.currentVideo.title,SNI.Video.Util.formatOffset(clip.mediaTime))}catch(e){SNI.Video.Util.log("Error in the Omniture code. Omniture tracking probably isn't working: "+e,"SNI.Video.Omniture.onMediaBuffer","ERROR")}},SNI.Video.Omniture=function(player,settings){return new Omniture(player,settings)}}(),function(){"use strict";function Play(player,settings){SNI.Video.Util.log("Override Play Button initialialization script called.","SNI.Video.Play","INFO"),this.player=player,this.settings=settings,this.rendered=!1,this.$root=$(root),player.subscribe("OnShowPlayOverlay",this.OnShowPlayOverlay.bind(this)),player.subscribe("OnSetReleaseUrl",this.OnSetReleaseUrl.bind(this))}var template="play.jst",cardClass="customPlayButton",root='<div class="'+cardClass+'" style="display:none;"></div>';Play.prototype.OnShowPlayOverlay=function(payload){payload.data?this.show():this.hide()},Play.prototype.OnSetReleaseUrl=function(){this.hide()},Play.prototype.show=function(){this.rendered||(this.render(),this.rendered=!0),this.$root.show()},Play.prototype.hide=function(){this.$root.hide()},Play.prototype.render=function(){var play=this,html=SNI.Video.Templates[template](this.settings),containerId=this.player.pdk.containerId,$container=this.player.$container;this.$root.append(html),$container.append(this.$root),this.$root.bind("click",function(){$pdk.controller.clickPlayButton([containerId]),play.hide()})},SNI.Video.Play=function(player,settings){return new Play(player,settings)}}(),function(){"use strict";function PlayClickToggle(player,settings){SNI.Video.Util.log("Initialization script to toggle playback on click in Video Content Area called.","SNI.Video.PlayClickToggle","INFO"),this.player=player,this.settings=settings,this.rendered=!1,this.currentlyPlaying=!1,player.subscribe("OnMediaStart",this.OnMediaStart.bind(this)),player.subscribe("OnMediaEnd",this.OnMediaEnd.bind(this)),player.subscribe("OnMediaPlay",this.OnMediaPlay.bind(this)),player.subscribe("OnMediaBuffer",this.OnMediaBuffer.bind(this)),player.subscribe("OnMediaPause",this.OnMediaPause.bind(this)),player.subscribe("OnMediaUnpause",this.OnMediaUnpause.bind(this)),player.subscribe("OnMediaPlaying",this.OnMediaPlaying.bind(this)),player.subscribe("OnMediaClick",this.OnMediaClick.bind(this))}var cardClass="playClickToggle",root='<div class="'+cardClass+'"></div>';PlayClickToggle.prototype.OnMediaClick=function(){this.togglePlayback()},PlayClickToggle.prototype.OnMediaPlay=function(payload){this.playingContent=!payload.data.baseClip.isAd},PlayClickToggle.prototype.OnMediaBuffer=function(){this.playingContent=!1},PlayClickToggle.prototype.OnMediaStart=function(payload){this.playingContent=!payload.data.baseClip.isAd,this.showOrHideCard()},PlayClickToggle.prototype.OnMediaEnd=function(){this.playingContent=!1,this.showOrHideCard()},PlayClickToggle.prototype.OnMediaPause=function(payload){this.playingContent=!payload.data.clip.baseClip.isAd,this.currentlyPlaying=!1},PlayClickToggle.prototype.OnMediaUnpause=function(payload){this.playingContent=!payload.data.clip.baseClip.isAd},PlayClickToggle.prototype.togglePlayback=function(){$pdk.controller.pause(this.playingContent&&this.currentlyPlaying,[this.player.pdk.scopes])},PlayClickToggle.prototype.OnMediaPlaying=function(){this.currentlyPlaying=!0},PlayClickToggle.prototype.showOrHideCard=function(){this.playingContent?this.show():this.hide()},PlayClickToggle.prototype.show=function(){this.rendered||(this.render(),this.rendered=!0),this.$root.show()},PlayClickToggle.prototype.hide=function(){this.$root&&this.$root.hide()},PlayClickToggle.prototype.render=function(){var $container=this.player.$container,$root=$(root),module=this;$container.append($root),this.$root=$root,$root.on("click",function(){module.togglePlayback()})},SNI.Video.PlayClickToggle=function(player,settings){return new PlayClickToggle(player,settings)}}(),function(){"use strict";function SinglePlayback(player,settings){var callback;SNI.Video.Util.log("Single Playback initialialization script called.","SNI.Video.Play","INFO"),this.player=player,this.settings=settings,!player.config.player.ignoreOtherPlayers&&player.config.player.autoplay&&(otherHasAutoPlay?player.config.player.autoplay=!1:otherHasAutoPlay=!0),player.config.player.ignoreOtherPlayers||"safari_iphone"===$pdk.userAgentAxis||(callback=this.OnPlaying.bind(this),player.subscribe("OnMediaStart",callback),player.subscribe("OnMediaUnpause",callback))}var otherHasAutoPlay=!1;SinglePlayback.prototype.OnPlaying=function(){var playerName,current,scopes,currentScopes=this.player.pdk.scopes;for(playerName in SNI.Video.Players)SNI.Video.Players.hasOwnProperty(playerName)&&(current=SNI.Video.Players[playerName],scopes=current.pdk.scopes,current.config.player.ignoreOtherPlayers||scopes==currentScopes||$pdk.controller.pause(!0,[scopes],!1))},SNI.Video.SinglePlayback=function(player,settings){return new SinglePlayback(player,settings)}}(),function(){"use strict";function Social(player,settings){SNI.Video.Util.log("Social initialialization script called.","SNI.Video.Social","INFO"),this.player=player,this.settings=settings,this.$root=$(root),this.allow=!0,this.cardIsShowing=!1,window.gigya||SNI.Video.Util.loadScript("http://cdn.gigya.com/js/gigya.js?apiKey="+settings.apiKey),player.subscribe("PlayerReady",this.render.bind(this)),player.subscribe("OnShowCard",this.onShowCard.bind(this)),player.subscribe("OnHideCard",this.onHideCard.bind(this)),player.subscribe("OnMediaStart",this.OnMediaStart.bind(this)),player.subscribe("OnShowFullScreen",this.onShowFullScreen.bind(this))}var root='<div class="tpSocial" style="display:none;"></div>';Social.prototype.onShowCard=function(){this.cardIsShowing=!0,this.disableSocial()},Social.prototype.onHideCard=function(){this.cardIsShowing=!1,this.enableSocial()},Social.prototype.disableSocial=function(){this.allow=!1,this.hide()},Social.prototype.enableSocial=function(){this.allow=!0},Social.prototype.onShowFullScreen=function(event){var isFullscreen=event.data;isFullscreen?this.disableSocial():this.enableSocial()},Social.prototype.OnMediaStart=function(event){event.data.baseClip.isAd?this.disableSocial():this.enableSocial()},Social.prototype.toggle=SNI.Video.Util.debounce(function(event){("mouseover"===event.type||"mouseenter"===event.type)&&this.show(),("mouseout"===event.type||"mouseleave"===event.type)&&this.hide()},250,!1),Social.prototype.show=function(){var social=this;social.allow&&!social.cardIsShowing&&social.$root.fadeIn({duration:social.settings.fadeIn,start:function(){social.$root.show()}})},Social.prototype.hide=function(){var social=this;social.$root.fadeOut({duration:social.settings.fadeOut,complete:function(){social.$root.hide()}})},Social.prototype.render=function(){var timeout,social=this,$container=this.player.$container,html=SNI.Video.Templates["social.jst"](this.settings);this.$root.append(html),$container.append(this.$root),$container.on("mouseenter",social.toggle.bind(social)),$container.on("mouseleave",social.toggle.bind(social)),$container.on("click",".socialNetwork button",function(){var networkId=$(this).val();social.share(networkId)}),$container.on("touchend",function(){social.show(),window.clearTimeout(timeout),timeout=window.setTimeout(social.hide.bind(social),social.settings.tapDisplayLength)})},Social.prototype.share=function(networkId){var publishAct,act=new window.gigya.socialize.UserAction,url=window.location.href,title=this.player.currentVideo.title||this.player.currentReleaseData.title||window.title||"",description=this.player.currentVideo.description||this.player.currentReleaseData.description||"",thumbnail=this.player.currentVideo.thumbnailUrl||this.player.currentReleaseData.defaultThumbnailUrl||"";act.setTitle(title),act.setLinkBack(url),act.setDescription(description),act.addMediaItem({type:"image",src:thumbnail}),publishAct={provider:networkId,url:url,userAction:act},window.gigya.socialize.postBookmark(publishAct)},SNI.Video.Social=function(player,settings){return new Social(player,settings)}}(),function(){"use strict";function uuIdHelp(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function generateUUID(player){var ulive=player.config.player.ulive||{},delim=ulive.delim||"-";return uuIdHelp()+uuIdHelp()+delim+uuIdHelp()+delim+uuIdHelp()+delim+uuIdHelp()+delim+uuIdHelp()+uuIdHelp()+uuIdHelp()}function Ulive(player,settings){SNI.Video.Util.log("Ulive initialialization script called.","SNI.Video.Ulive","INFO"),this.player=player,this.settings=settings,this.registered=!1,this.sequenceNumber=0,this.contentBeganFired=!1,this.sessionId=SNI.Video.Util.Cookie.get("uliveSession")||SNI.Video.Util.Cookie.set("uliveSession",generateUUID(player),1/48),this.userId=SNI.Util.Cookie.get("uliveUserId")||SNI.Util.Cookie.set("uliveUserId",generateUUID(player),3650),this.registered||(player.subscribe("OnMediaStart",this.OnMediaStart.bind(this)),this.registered=!0)}Ulive.prototype.OnMediaStart=function(event){var contentBegan,clip=event.data;clip.baseClip.isAd||SNI.Video.Analytics.ulive.contentBeganFired||(this.contentBeganFired=!0,contentBegan=[{_type:"RG.WIDGET.MEDIA",_event:"VIDEO_CONTENT_BEGIN",client:{user_id:SNI.Util.Cookie.get("uliveUserId"),session_id:SNI.Util.Cookie.get("uliveSession"),page_id:generateUUID(this.player),page_url:window.location.href,referrer_url:document.referrer,player_id:generateUUID(this.player)},sequence:{index:SNI.Video.Analytics.ulive.sequenceNumber++,timestamp:(new Date).toISOString()},detail:{index:this.player.currentVideoIdx?this.player.currentVideoIdx:0,video_id:this.player.currentVideo.scrid?this.player.currentVideo.scrid:mdManager.getDetailId()}}],$.ajax({type:"POST",url:"http://events.realgravity.com/sni-events",data:JSON.stringify(contentBegan),success:function(data){SNI.Video.Util.log("Content Began fired for PDK : "+data,"SNI.Video.Analytics.ulive","WARN")},dataType:"json",processData:!1}))},SNI.Video.Ulive=function(player,settings){return new Ulive(player,settings)}}(),SNI.Video.Players={},function(){"use strict";function getConfig(options){var config={player:{}};return SNI.Video.Util.log("Applying custom options passed into the player at instantiation. Takes precedence over site config and defaults","SNI.Video.Player.getConfig","INFO"),$.extend(!0,config,SNI.Video.Defaults,options),config}function setPlayerOptions(player,settings){$.extend(!0,player.pdk,settings),player.pdk.scopes=settings.containerId+"_scope"}function amazonAdsFinished(){var timeout,gracePeriod=1e3,amazonDeferred=$.Deferred();return window.adsData&&window.adsData.amazon_video_targeting?(SNI.Video.Util.log("SniAds adsdata has value","SNI.Video.Ads","INFO"),amazonDeferred.resolve()):"undefined"!=typeof SniAds&&SniAds.Event&&SniAds.Event.subscribe?(SNI.Video.Util.log('SniAds subscribing to "amazon_video_targeting_ready" event.',"SNI.Video.Ads","INFO"),SniAds.Event.subscribe("amazon_video_targeting_ready",function(){clearTimeout(timeout),SNI.Video.Util.log('SniAds "amazon_video_targeting_ready" event fired.',"SNI.Video.Ads","INFO"),amazonDeferred.resolve()}),timeout=setTimeout(function(){SNI.Video.Util.log("SniAds did not return a value in sufficient time.","SNI.Video.Ads","INFO"),amazonDeferred.resolve()},gracePeriod)):(SNI.Video.Util.log("SniAds is not available.","SNI.Video.Ads","INFO"),amazonDeferred.resolve()),amazonDeferred.promise()}function playerInitialize(player){function returnFalse(){return!1}var queue,containerId=player.config.player.containerId;player.pdk=new window.Player(containerId),setPlayerOptions(player,player.config.player),player.endedNaturally=!0,player.modules={},SNI.Video.Plugins.loadPlugins(player),player.config.channels.enabled===!1&&(player.currentVideo=player.config.video,player.isSingleVideo=!0,SNI.Video.Util.log("Instantiated a single video player","SNI.Video.Player","INFO"),player.hasNext=returnFalse,player.hasPrevious=returnFalse,player.setCurrentVideo=$.noop,player.loadVideo=$.noop,player.setCurrentChannel=$.noop,player.loadChannel=$.noop,player.getVideoUrl=$.noop,player.getNext=$.noop,player.playNext=$.noop,player.playPrevious=$.noop),player.pdk.bind(),queue=SNI.Video.Events.queue,SNI.Video.Events.queue=[],$.each(queue,function(index,queuedEvent){SNI.Video.Events.subscribe(queuedEvent.event,queuedEvent.callback,queuedEvent.containerId)}),player.subscribe("OnFetchReleaseData",function(event){player.currentReleaseData=event.data}),player.subscribe("OnMediaStart",function(){player.endedNaturally=!0}),player.subscribe("PlayerReady",function(){player.loadReleaseUrl(player.currentVideo.releaseUrl,player.config.player.autoplay)})}function Player(settings){var containerId,player=this,playerReady=!1,debugLevel=SNI.Video.Util.getParameterByName("tploglevel"),acceptableLevels=["debug","info","warn","error","fatal","none"];""!==debugLevel&&acceptableLevels.indexOf(debugLevel)>-1&&(settings.player.logLevel=debugLevel),window.tpLogLevel=settings.player.logLevel||SNI.Video.Defaults.player.logLevel,mdManager.setParameter("VideoPlayer","PDK"),player.config=getConfig(settings),containerId=player.config.player.containerId,SNI.Video.Players[containerId]?SNI.Video.Util.log("Attempted to create a new Player at the same container ID: "+containerId+". This would overwrite an existing player.","SNI.Video.Player","FATAL"):SNI.Video.Players[containerId]=player,player.isReady=function(){return playerReady},$(document).ready(function(){function setPlayerReady(){player.$container=$("#"+containerId),playerReady=!0,player.publish("PlayerReady")}player.$container=$("#"+containerId),player.$container.length<=0&&SNI.Video.Util.log('The targeted container does not exist. Player configuration was passed "#'+containerId+"\" as the containerId but it doesn't exist in the DOM. Target an existing element and try again","SNI.Video.Player","FATAL"),player.$container.hasClass("tpPlayer")&&SNI.Video.Util.log('The targeted container "'+containerId+'" already has a class of "tpPlayer". This must be removed in order for the player to be created properly.',"SNI.Video.Player","FATAL"),(0===player.$container.height()||0===player.$container.width())&&SNI.Video.Util.log('The targeted container "'+containerId+'" has a width or height of 0. Please assign appropriate dimensions to enable playback.',"SNI.Video.Player","FATAL"),$pdk.initialize(),player.$container.on("contextmenu",function(){return SNI.Video.Util.isFlashPlayer()}),SNI.Video.EmbedCallbackHack(player),($pdk.isIOS||$pdk.isAndroid)&&(player.config.player.autoplay=!1,SNI.Video.Util.log("Disabling autoplay because this is iOS or Android.","SNI.Video.Player","INFO")),player.subscribe("OnPlayerLoaded",setPlayerReady),$.when(amazonAdsFinished()).done(function(){SNI.Video.Util.log("SniAds Done","SNI.Video.Ads","INFO"),playerInitialize(player,settings)})})}SNI.Config.Video&&$.extend(!0,SNI.Video.Defaults.player,SNI.Config.Video),Player.prototype.loadReleaseUrl=function(url,ap){SNI.Video.Util.log("Loading release URL "+url,"SNI.Video.Player.loadReleaseUrl","INFO");var autoplay=ap?!0:!1;this.endedNaturally=!1,$pdk.controller.clearCurrentRelease([this.pdk.scopes]),autoplay?($pdk.controller.setReleaseURL(url,!0,[this.pdk.scopes]),this.config.player.autoplay=!0):$pdk.controller.loadReleaseURL(url,!0,[this.pdk.scopes])},Player.prototype.hideControlRack=function(){$pdk.controller.hidePlayerRegions(!0,[],[this.pdk.scopes])},Player.prototype.showControlRack=function(){$pdk.controller.hidePlayerRegions(!1,[],[this.pdk.scopes])},Player.prototype.mute=function(){$pdk.controller.mute(!0,[this.pdk.scopes])},Player.prototype.unmute=function(){$pdk.controller.mute(!1,[this.pdk.scopes])},Player.prototype.pause=function(){$pdk.controller.pause(!0,[this.pdk.scopes])},Player.prototype.publish=function(eventName,payload){SNI.Video.Events.publish(eventName,payload,this.config.player.containerId)},Player.prototype.subscribe=function(eventName,callback){SNI.Video.Events.subscribe(eventName,callback,this.config.player.containerId)},Player.prototype.unsubscribe=function(eventName,callback){SNI.Video.Events.unsubscribe(eventName,callback,this.config.player.containerId)},Player.prototype.play=function(videoInfo,autoPlay){if(videoInfo||0===videoInfo){if("undefined"==typeof autoPlay&&(autoPlay=!0),"number"==typeof videoInfo){if(this.isSingleVideo)return;videoInfo>=0&&videoInfo<this.modules.channels.settings.channels[this.currentChannelIdx].total?this.setCurrentVideo(videoInfo):$pdk.controller.pause(!1,[this.pdk.scopes])}else this.currentVideo=videoInfo;this.loadReleaseUrl(this.currentVideo.releaseUrl,autoPlay)}else $pdk.controller.clickPlayButton([this.pdk.scopes]),
$pdk.controller.pause(!1,[this.pdk.scopes])},SNI.Video.Player=Player}();