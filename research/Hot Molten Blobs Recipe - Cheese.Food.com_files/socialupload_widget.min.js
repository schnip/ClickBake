if(typeof $LAB==="undefined"){
/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
        v2.0.3 (c) Kyle Simpson
        MIT License
    */
(function(W){var f=W.$LAB,j="UseLocalXHR",g="AlwaysPreserveOrder",p="AllowDuplicates",V="CacheBust",T="BasePath",R=/^[^?#]*\//.exec(location.href)[0],Q=/^\w+\:\/\/\/?[^\/]+/.exec(R)[0],X=document.head||document.getElementsByTagName("head"),e=(W.opera&&Object.prototype.toString.call(W.opera)=="[object Opera]")||("MozAppearance" in document.documentElement.style),U=document.createElement("script"),w=typeof U.preload=="boolean",S=w||(U.readyState&&U.readyState=="uninitialized"),n=!S&&U.async===true,d=!S&&!n&&!e;function m(i){return Object.prototype.toString.call(i)=="[object Function]"}function l(i){return Object.prototype.toString.call(i)=="[object Array]"}function c(o,q){var i=/^\w+\:\/\//;if(/^\/\/\/?/.test(o)){o=location.protocol+o}else{if(!i.test(o)&&o.charAt(0)!="/"){o=(q||"")+o}}return i.test(o)?o:((o.charAt(0)=="/"?Q:R)+o)}function x(o,q){for(var i in o){if(o.hasOwnProperty(i)){q[i]=o[i]}}return q}function b(o){var q=false;for(var i=0;i<o.scripts.length;i++){if(o.scripts[i].ready&&o.scripts[i].exec_trigger){q=true;o.scripts[i].exec_trigger();o.scripts[i].exec_trigger=null}}return q}function v(o,r,i,q){o.onload=o.onreadystatechange=function(){if((o.readyState&&o.readyState!="complete"&&o.readyState!="loaded")||r[i]){return}o.onload=o.onreadystatechange=null;q()}}function k(i){i.ready=i.finished=true;for(var o=0;o<i.finished_listeners.length;o++){i.finished_listeners[o]()}i.ready_listeners=[];i.finished_listeners=[]}function a(s,q,r,o,i){setTimeout(function(){var u,y=q.real_src,t;if("item" in X){if(!X[0]){setTimeout(arguments.callee,25);return}X=X[0]}u=document.createElement("script");if(q.type){u.type=q.type}if(q.charset){u.charset=q.charset}if(i){if(S){r.elem=u;if(w){u.preload=true;u.onpreload=o}else{u.onreadystatechange=function(){if(u.readyState=="loaded"){o()}}}u.src=y}else{if(i&&y.indexOf(Q)==0&&s[j]){t=new XMLHttpRequest();t.onreadystatechange=function(){if(t.readyState==4){t.onreadystatechange=function(){};r.text=t.responseText+"\n//@ sourceURL="+y;o()}};t.open("GET",y);t.send()}else{u.type="text/cache-script";v(u,r,"ready",function(){X.removeChild(u);o()});u.src=y;X.insertBefore(u,X.firstChild)}}}else{if(n){u.async=false;v(u,r,"finished",o);u.src=y;X.insertBefore(u,X.firstChild)}else{v(u,r,"finished",o);u.src=y;X.insertBefore(u,X.firstChild)}}},0)}function h(){var o={},t=S||d,y=[],u={},i;o[j]=true;o[g]=false;o[p]=false;o[V]=false;o[T]="";function s(A,D,z){var C;function B(){if(C!=null){C=null;k(z)}}if(u[D.src].finished){return}if(!A[p]){u[D.src].finished=true}C=z.elem||document.createElement("script");if(D.type){C.type=D.type}if(D.charset){C.charset=D.charset}v(C,z,"finished",B);if(z.elem){z.elem=null}else{if(z.text){C.onload=C.onreadystatechange=null;C.text=z.text}else{C.src=D.real_src}}X.insertBefore(C,X.firstChild);if(z.text){B()}}function r(G,z,F,D){var E,C,B=function(){z.ready_cb(z,function(){s(G,z,E)})},A=function(){z.finished_cb(z,F)};z.src=c(z.src,G[T]);z.real_src=z.src+(G[V]?((/\?.*$/.test(z.src)?"&_":"?_")+~~(Math.random()*1000000000)+"="):"");if(!u[z.src]){u[z.src]={items:[],finished:false}}C=u[z.src].items;if(G[p]||C.length==0){E=C[C.length]={ready:false,finished:false,ready_listeners:[B],finished_listeners:[A]};a(G,z,E,((D)?function(){E.ready=true;for(var H=0;H<E.ready_listeners.length;H++){E.ready_listeners[H]()}E.ready_listeners=[]}:function(){k(E)}),D)}else{E=C[0];if(E.finished){A()}else{E.finished_listeners.push(A)}}}function q(){var G,F=x(o,{}),E=[],D=0,I=false,C;function B(J,K){J.ready=true;J.exec_trigger=K;H()}function A(K,L){K.ready=K.finished=true;K.exec_trigger=null;for(var J=0;J<L.scripts.length;J++){if(!L.scripts[J].finished){return}}L.finished=true;H()}function H(){while(D<E.length){if(m(E[D])){try{E[D++]()}catch(J){}continue}else{if(!E[D].finished){if(b(E[D])){continue}break}}D++}if(D==E.length){I=false;C=false}}function z(){if(!C||!C.scripts){E.push(C={scripts:[],finished:true})}}G={script:function(){for(var J=0;J<arguments.length;J++){(function(L,N){var K;if(!l(L)){N=[L]}for(var M=0;M<N.length;M++){z();L=N[M];if(m(L)){L=L()}if(!L){continue}if(l(L)){K=[].slice.call(L);K.unshift(M,1);[].splice.apply(N,K);M--;continue}if(typeof L=="string"){L={src:L}}L=x(L,{ready:false,ready_cb:B,finished:false,finished_cb:A});C.finished=false;C.scripts.push(L);r(F,L,C,(t&&I));I=true;if(F[g]){G.wait()}}})(arguments[J],arguments[J])}return G},wait:function(){if(arguments.length>0){for(var J=0;J<arguments.length;J++){E.push(arguments[J])}C=E[E.length-1]}else{C=false}H();return G}};return{script:G.script,wait:G.wait,setOptions:function(J){x(J,F);return G}}}i={setGlobalDefaults:function(z){x(z,o);return i},setOptions:function(){return q().setOptions.apply(null,arguments)},script:function(){return q().script.apply(null,arguments)},wait:function(){return q().wait.apply(null,arguments)},queueScript:function(){y[y.length]={type:"script",args:[].slice.call(arguments)};return i},queueWait:function(){y[y.length]={type:"wait",args:[].slice.call(arguments)};return i},runQueue:function(){var A=i,C=y.length,z=C,B;for(;--z>=0;){B=y.shift();A=A[B.type].apply(null,B.args)}return A},noConflict:function(){W.$LAB=f;return i},sandbox:function(){return h()}};return i}W.$LAB=h();(function(o,q,i){if(document.readyState==null&&document[o]){document.readyState="loading";document[o](q,i=function(){document.removeEventListener(q,i,false);document.readyState="complete"},false)}})("addEventListener","DOMContentLoaded")})(this)}if(typeof window.$LAB!=="undefined"){(function(e){window.SNI=window.SNI||{};window.SNI.SocialUploader=window.SNI.SocialUploader||{};window.SNI.SocialUploader.loaded=true;window.SNI.SocialUploader.iframeProxyPath=SNI.SocialUploader.iframeProxyPath||"/";window.SNI.SocialUploader.iframeProxyFilename=window.SNI.SocialUploader.iframeProxyFilename||"iframeproxy.html";var i=function(){if(typeof console!=="undefined"){try{console.log.apply(null,arguments)}catch(l){console.log(arguments)}}};if(typeof CP_SERVICE_FILE_UPLOAD==="undefined"){CP_SERVICE_FILE_UPLOAD={}}if(typeof SNI_COMMUNITY_SERVICES==="undefined"){SNI_COMMUNITY_SERVICES={}}if(typeof SNI_COMMUNITY_SOCIAL_UPLOAD==="undefined"){SNI_COMMUNITY_SOCIAL_UPLOAD={}}var k=/^((?:(https?):)?(?:\/\/)?([^\/]+))/;var j=function(m){var l=k.exec(m);return l===null?null:l[1]};if(!window.SU){window.SU={}}$.extend(true,SU,{config:{},hasCustomS3Path:false,isLowerEnvironment:(function(){if(document.domain.indexOf("-")!==-1){return true}else{return false}})(),messages:{errors:{invalidPathPrefix:'Invalid path prefix! Check your SU.config.s3PathPrefix value: it must begin with "/", but never end with it. Special characters not allowed.',missingS3Path:"Please make sure that you've set a valid S3 path for image storage. This is a mandatory config.",missingSiteCode:"SNI_COMMUNITY_SERVICES.SITE_CODE value is missing. Please enter a site code value. Eventually this will be replaced with the SU.config.siteCode property."}},services:{callbacks:{moderation:"/rest/simpleupload/cmb/callback"},log:"/rest/su/widget/log?",moderation:"/rest/simpleupload/cmb/post?",options:{moderate:"moderation=true"},processMetaData:"/rest/su/widget/processMetaData?",protocol:"http://upload."},storePath:null,util:{getDate:function(){var n=new Date();var m;var l;if(n.getMonth()<10){m=(n.getMonth()===9)?"10":"0"+(n.getMonth()+1).toString()}else{m=n.getMonth().toString()}if(n.getDate()<10){l=(n.getDate()===9)?"10":"0"+n.getDate().toString()}else{l=n.getDate().toString()}return n.getFullYear().toString()+m+l},getLowerEnvironment:function(){var m="";var l=document.domain.split(".");if(l[1].indexOf("-")!==-1){m=l[1].split("-")[0];m+="-"}return m},isImageReady:function(m){if(typeof localStorage.imgRequestCounter==="undefined"){localStorage.imgRequestCounter=0}var l=new Image();l.src=m;if(l.naturalWidth===0){if(parseInt(localStorage.imgRequestCounter)<10){console.log('The image "'+m+'" is not ready. Checking again in 2.5 seconds.');setTimeout(function(){SU.util.isImageReady(m)},2500);localStorage.imgRequestCounter++}else{console.log('The image "'+m+'" hase been requested too many times. Aborting.');return false}}else{localStorage.imgRequestCounter=0;return true}},normalize:function(m,l){m=m.trim().replace(/^[^\w]+/,"").replace(/[^\w]+$/,"");m=m.replace(/[^\w-.]+/g,l);m=m.replace(/\s+/g,l);return m},resizeCloudinaryImage:function(m,l){return m.replace("/upload/v1","/upload/"+l+"/v1")}}});var b=function(){(function(p){var m=function(w,v,y){var x=true;var z=[];var A=u(w);if(typeof A.app_key==="undefined"||!A.app_key){z.push("Missing API Key: APP KEY is"+A.app_key);x=false}if(typeof A.site_name==="undefined"||!A.site_name){z.push("Missing App Site Name: SITE NAME"+A.site_name);x=false}if(typeof A.site_code==="undefined"||!A.site_code){z.push("Missing App Site Code: SITE CODE"+A.site_code);x=false}if(typeof v==="undefined"||!v){z.push("Missing success callback method");x=false}if(typeof y==="undefined"||!y){z.push("Missing errorcallback");x=false}if(!x){var B=z.join(",");q(y,B);throw B}return{allowToProceed:x,data:A}};var l=function(x,v){var w=p.extend({},x,v);return w};var u=function(x){var w={};var v={};v.app_key=SNI_COMMUNITY_SOCIAL_UPLOAD.APP_KEY;v.asset_id=SNI_COMMUNITY_SERVICES.ASSET_ID;v.asset_type=SNI_COMMUNITY_SERVICES.ASSET_TYPE;v.asset_name=SNI_COMMUNITY_SERVICES.ASSET_NAME;v.site_name=SNI_COMMUNITY_SERVICES.SITE_NAME;v.site_code=SNI_COMMUNITY_SERVICES.SITE_CODE;w=l(v,x);return w};var s=function(y){var w=function(B){var E=(SU.isLowerEnvironment)?"img-nonprod":"img";var C=(typeof SU.config.imageDomain!=="undefined"&&SU.config.imageDomain!=="")?SU.config.imageDomain:E+".sndimg.com";var D=(p("#samplePage").length)?"su":SNI_COMMUNITY_SERVICES.SITE_CODE;var A=p.cloudinary.url(B,{cloud_name:D});if(SU.config.imageDomain!==""&&!SU.config.imageDomain.match(/(\.com\/?$)/)){A=A.replace("/"+D,"")}A=A.replace("res.cloudinary.com",C);return A};var v=function(A,D,C){var H=window.location.hostname.match(new RegExp(".*"+(".com")))[0].split(".");var B,E,G,F;if(H[1].indexOf("-")!==-1){H[1]=H[1].split("-")[1]}H.splice(0,1);B=(typeof SU.config.imageDomain!=="undefined"&&SU.config.imageDomain!=="")?SU.config.imageDomain:H.join(".");if(B.indexOf("scrippsnetworks.com")!==-1){B=B.replace("scrippsnetworks","food")}F=(SU.util.normalize(A,"-").length>50)?SU.util.normalize(A,"-").substring(0,50):SU.util.normalize(A,"-");D+="-"+F;D+="/convert?loc="+SU.storePath+encodeURIComponent(C.split("/").pop());G=D;if(typeof G!=="undefined"&&G){E="pictures."+B+(G.substring(G.indexOf("filepicker.io")+13));D=E}return D};var x=function(A){var B=(typeof SU.config.videoDomain!=="undefined"&&SU.config.videoDomain!=="")?SU.config.videoDomain:"content.dev1-hgtv.com";return"http://"+B+"/"+A};for(var z=0;z<y.length;z++){if(y[z].mimetype.indexOf("video")!==-1){y[z].url=x(y[z].key)}else{if(typeof SU.config.imageService!=="undefined"&&SU.config.imageService==="cloudinary"){y[z].url=w(y[z].key)}else{y[z].url=v(y[z].filename,y[z].url,y[z].key)}}}return y};var r=function(v,z,x){var w=x;w=s(x);var y=CP_SERVICE_FILE_UPLOAD.logData_generic;y.url=w.url;delete w.key;o(y,z);if(v&&(typeof v==="function")){v(w)}};var q=function(v,x,y){var w=CP_SERVICE_FILE_UPLOAD.logData_generic;w.FPError=y;o(w,x,y);if(typeof y!=="undefined"&&y.code!==101){if(v&&(typeof v==="function")){v(y.code)}}};CP_SERVICE_FILE_UPLOAD.submitForm=function(v,w){t(v,w)};var t=function(x,y){var w=(typeof SU.config.moderation!=="undefined"&&SU.config.moderation==true)?SU.services.options.moderate:"";var v=SU.environments.apps+SU.services.processMetaData+w;localStorage.simpleUploadService=v;p().SU_iframeProxy.post({service:v,JSON:x,startURL:"http://"+document.domain+SNI.SocialUploader.iframeProxyPath+SNI.SocialUploader.iframeProxyFilename,callback:y})};var o=function(v,w){if(typeof w!=="undefined"&&w){v.message=w}p().SU_iframeProxy.post({service:SU.environments.logs+SU.services.log,JSON:v,startURL:"http://"+document.domain+SNI.SocialUploader.iframeProxyPath+SNI.SocialUploader.iframeProxyFilename})};var n=function(w,x){var y=l(SNI_COMMUNITY_FILE_UPLOAD.PICK_OPTIONS,w);var v=l(SNI_COMMUNITY_FILE_UPLOAD.STORE_OPTIONS,x);return{pick:y,store:v}};CP_SERVICE_FILE_UPLOAD.uploadFile=function(v,x,w,z,B){CP_SERVICE_FILE_UPLOAD.logData_generic={};if(typeof B.path==="undefined"||B.path===""||B.path==="/"){B.path="/"+SNI_COMMUNITY_SERVICES.SITE_CODE+"/"+SU.util.getDate()+"/"}if(typeof SU.config.s3PathPrefix!=="undefined"&&SU.config.s3PathPrefix.trim()!==""){if(SU.config.s3PathPrefix.match(/(^\/)[\w(-\/)+]+\w$/)){B.path=SU.config.s3PathPrefix+B.path}else{throw new Error(SU.messages.errors.invalidPathPrefix)}}SU.storePath=B.path;var y=m(w,v,x);if(y.allowToProceed){var A=n(z,B);CP_SERVICE_FILE_UPLOAD.logData_generic={appKey:y.data.app_key,siteCode:y.data.site_code,siteName:y.data.site_name,assetId:y.data.asset_id,assetType:y.data.asset_type,assetName:y.data.asset_name,file_upload_pick_options:A.pick,file_upload_store_options:A.store,simpleUploadConfig:SU.config};filepicker.setKey(y.data.app_key);o(CP_SERVICE_FILE_UPLOAD.logData_generic,"Before dispatching call to filepicker.io for ::");filepicker.pickAndStore(A.pick,A.store,function(D){var C="File upload is done successfully :: ";r(v,C,D)},function(D){var C="Error occured during file upload(s) :: ";q(x,C,D)})}};(function(){var w="SU_iframeProxy",x={serviceURL:undefined,startCallback:undefined,finishCallback:undefined,Port:{status:false,startURL:"http://"+document.domain+SNI.SocialUploader.iframeProxyPath+SNI.SocialUploader.iframeProxyFilename,isWaiting:false,init:function(A){if(!z.status){this.frame=p("<iframe>").attr({id:"SU_iframeProxy",name:"SU_iframeProxy",frameBorder:"1",scrolling:"auto",width:"40",height:"40"}).css({position:"absolute",left:"-150px",top:"0px"}).appendTo("body")[0];p(this.frame).attr("src",this.startURL);p(this.frame).unbind("load").load(function(){if(A instanceof Function){A()}})}else{A()}this.status="built";return z},getLocalURL:function(){var A;try{if(window.frames[this.frame.id].document!==undefined){A=window.frames[this.frame.id].document.location}}catch(B){}if(A!==undefined&&A.href!==undefined){return A}return false},buildForm:function(A,F){if(!(this.getLocalURL())){return false}var C=(this.frame.contentWindow)?this.frame.contentWindow.document:(this.frame.contentDocument.document)?this.frame.contentDocument.document:this.frame.contentDocument;var B=C.createElement("form");var E="POST";var D=F.serviceURL+((F.serviceURL.charAt(F.serviceURL.length-1)==="?")?"":"&")+"callbackUrl="+this.startURL;B.setAttribute("action",D);B.setAttribute("method",E);p(B).append("<input name='logInfo' type='hidden' value='"+JSON.stringify(A)+"' />");p(B).append('<input name="callbackUrl" type="hidden" value="'+this.startURL+'" />');B=C.body.appendChild(B);this.isWaiting=true;p(this.frame).unbind("load").load(function(){z.formControl.call(z,this,F)});B.submit()},formControl:function(D,G){var B;if(!(B=this.getLocalURL())){return false}if(this.isWaiting===true){var F={};var E=B.search.substring(1);E=window.decodeURIComponent(E).split("&");var C=E.length;var A;while(C-->0){A=E[C].split("=");if(A[1].charAt(0)==="{"){A[1]=p.parseJSON(A[1])}F[A[0]]=A[1]}if(G&&G.finishCallback instanceof Function){G.finishCallback(F)}}}}},z=x.Port;function v(B,A){this.element=B;this._name=w;this.options=p.extend({},x,A);this._defaults=x;this._name=w;this.init(B)}v.prototype={init:function(A){var B=this;z.init();function C(G){var D=p(this).serializeArray();var E=B.options.startCallback;if(E instanceof Function){var F=E.call(this,D,G);if(!F){return false}}z.buildForm.call(z,D,B.options);G.preventDefault();return false}if(A!==undefined){p(A).submit(C)}}};var y=p.sub();p.fn[w]=function(A){return y(this).each(function(){if(!p.data(this,"plugin_"+w)){p.data(this,"plugin_"+w,new v(this,A))}})};p.fn[w].post=function(A){z.init(function(){z.buildForm(A.JSON,{serviceURL:A.service,finishCallback:A.callback})})}})()}(window.SNI.SocialUploader.jQuery))};function d(l,n){var m=this;m.name=l;m.loaded=false;m.callbacks=[];m.executeCallback=n;m.timer=setInterval(function(){if(m.loaded===true){i('Executing "'+m.name+'" callbacks');m.executeContextLoadedCallbacks()}},30);m.createHandler(m.name)}d.prototype={createHandler:function(l){if(typeof l==="undefined"||l.length===0){throw new Error("handler name cannot be blank")}if(typeof window[l]!=="undefined"){throw new Error("window["+l+"] is already defined")}var m=this;window[l]=function(n){if(typeof n==="function"){if(m.loaded===true){i('context.loaded was true, invoking "'+m.name+'" callback immediately');if(m.callbacks.length>0){m.executeContextLoadedCallbacks()}n.call(null,window.SNI.SocialUploader.jQuery)}else{i('context.loaded was false, pushing "'+m.name+'" callback to queue');m.callbacks.push(n)}}}},setContextLoaded:function(){var l=this;l.loaded=true},executeContextLoadedCallbacks:function(){var m,l=this;for(m=0;m<l.callbacks.length;m+=1){i('Executing "'+l.name+'" callback from queue position '+m);l.executeCallback.call(null,l.callbacks[m])}l.callbacks=[];clearInterval(l.timer)}};var g=new d("socialUploaderContextLoaded",function(l){l.call(null,window.SNI.SocialUploader.jQuery)});var h=new d("SUjQueryContextLoaded",function(l){l.call(null,window.SNI.SocialUploader.jQuery)});var c=function(s,r,n){if(typeof s==="undefined"){return false}var m=s.fn.jquery;var p=m.split(".");var o=parseInt(p[0],10);var q=parseInt(p[1],10);var l=p.length>2?parseInt(p[2],10):0;if(o===r&&q>=n&&q<9){if((q===8&&l!==3)||(q===7&&l===1)){return false}else{return true}}else{return false}};var f=typeof window.jQuery==="undefined";var a=!f;if(a){i("Found jQuery version "+window.jQuery.fn.jquery);a=c(window.jQuery,1,7)}if(a===false){if(typeof SNI.SocialUploader.jQuery!=="undefined"&&c(SNI.SocialUploader.jQuery,1,7)){jQuery.extend(true,window.SNI,{SocialUploader:{jQuery:SNI.SocialUploader.jQuery}});i("Used existing SNI.SocialUploader.jQuery version: "+window.SNI.SocialUploader.jQuery.fn.jquery);i("window.jQuery version is: "+window.jQuery.fn.jquery);h.setContextLoaded()}else{e.script("//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js").wait(function(){jQuery.extend(true,window.SNI,{SocialUploader:{jQuery:window.jQuery}});if(f===false){i("jQuery was defined, executing noConflict");window.jQuery.noConflict(true)}else{i("jQuery was undefined")}i("Loaded jQuery version: "+window.SNI.SocialUploader.jQuery.fn.jquery);i("window.jQuery version is: "+window.jQuery.fn.jquery);h.setContextLoaded()})}}else{jQuery.extend(true,window.SNI,{SocialUploader:{jQuery:window.jQuery}});i("Used existing jQuery version: "+window.SNI.SocialUploader.jQuery.fn.jquery);i("window.jQuery version is: "+window.jQuery.fn.jquery);h.setContextLoaded()}window.SUjQueryContextLoaded(function(t){var o=t;if(typeof SNI_COMMUNITY_SERVICES.SITE_CODE==="undefined"||!SNI_COMMUNITY_SERVICES.SITE_CODE){throw new Error(SU.messages.errors.missingSiteCode)}var r="/wrapper/js/lib/jquery/plugins/";var p="/wrapper/js/config/site_config/"+((typeof SU.config.siteCode!=="undefined"&&SU.config.siteCode.trim()!=="")?SU.config.siteCode:SNI_COMMUNITY_SERVICES.SITE_CODE)+".js";var q="/wrapper/js/config/app_config/app_config.js";var m=r+"jquery.cloudinary.js";var s=r+"jquery.serializeObject.js";var n=null;var l=o(document.scripts);if(l.size()===0){l=o(document).find("script")}l.filter('[src*="socialupload_widget.js"], [src*="socialupload_widget.min.js"]').each(function(){var u=o(this).attr("src");if(n===null&&typeof u!=="undefined"){n=j(u);if(n===null){n=j(window.location.href)}}});e.script("//api.filepicker.io/v1/filepicker.js").script(n+q).script(n+p).script(n+m).script(n+s).wait(function(){i("calling loadApp");try{b()}catch(u){i(u)}i("setting socialUploaderContext loaded");g.setContextLoaded()})})})(window.$LAB)}else{throw new Error("LAB.js script loader could not be found!")};