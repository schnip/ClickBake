"function"!==typeof window.DIL&&(window.DIL=function(b,d){var f=[],e,m;b!==Object(b)&&(b={});var h,l,v,w,A,n,q,E,r,K,L,F;h=b.partner;l=b.containerNSID;v=b.iframeAttachmentDelay;w=!!b.disableDestinationPublishingIframe;A=b.iframeAkamaiHTTPS;n=b.mappings;q=b.uuidCookie;E=!0===b.enableErrorReporting;r=b.visitorService;K=b.declaredId;L=!0===b.removeFinishedScriptsAndCallbacks;F=!0===b.delayAllUntilWindowLoad;var x,M,N,G,D,O,P;x=!0===b.disableScriptAttachment;M=!0===b.disableCORSFiring;N=!0===b.disableDefaultRequest;
G=b.afterResultForDefaultRequest;D=b.dpIframeSrc;O=!0===b.testCORS;P=!0===b.useJSONPOnly;E&&DIL.errorModule.activate();var Q=!0===window._dil_unit_tests;(e=d)&&f.push(e+"");if(!h||"string"!==typeof h)return e="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:e,filename:"dil.js"}),Error(e);e="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";if(l||"number"===typeof l)l=parseInt(l,10),!isNaN(l)&&0<=l&&(e="");
e&&(l=0,f.push(e),e="");m=DIL.getDil(h,l);if(m instanceof DIL&&m.api.getPartner()===h&&m.api.getContainerNSID()===l)return m;if(this instanceof DIL)DIL.registerDil(this,h,l);else return new DIL(b,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+h+" and containerNSID \x3d "+l);var y={IS_HTTPS:"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC"},H={stuffed:{}},s={},
p={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:l+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+
"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,instance:null,releaseType:"no VisitorAPI",admsProcessingStarted:!1,process:function(a){try{if(!this.admsProcessingStarted){var c=this,g,k,b,I,e;if("function"===typeof a&&"function"===typeof a.getInstance){if(r===Object(r)&&(g=r.namespace)&&"string"===typeof g)k=a.getInstance(g);else{this.releaseType="no namespace";this.releaseRequests();
return}if(k===Object(k)&&"function"===typeof k.isAllowed&&"function"===typeof k.getMarketingCloudVisitorID){if(!k.isAllowed()){this.releaseType="VisitorAPI not allowed";this.releaseRequests();return}this.instance=k;this.admsProcessingStarted=!0;b=function(a){"VisitorAPI"!==c.releaseType&&(c.mid=a,c.releaseType="VisitorAPI",c.releaseRequests())};if(Q&&(I=r.server)&&"string"===typeof I)k.server=I;e=k.getMarketingCloudVisitorID(b);if("string"===typeof e&&e.length){b(e);return}setTimeout(function(){"VisitorAPI"!==
c.releaseType&&(c.releaseType="timeout",c.releaseRequests())},this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE);return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(f){this.releaseRequests()}},releaseRequests:function(){this.calledBack=!0;p.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var a=u.isPopulatedString,c=this.getMarketingCloudVisitorID();if(!a(this.mid)||
this.mid!==c)this.mid=c;return a(this.mid)?"d_mid\x3d"+this.mid+"\x26":""}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(a,c){var g=u.isPopulatedString,k=encodeURIComponent;if(a===Object(a)&&g(c)){var b=a.dpid,e=a.dpuuid,f=null;if(g(b)&&g(e)){f=k(b)+"$"+k(e);if(!0===this.declaredIdCombos[f])return"setDeclaredId: combo exists for type '"+c+"'";this.declaredIdCombos[f]=!0;this.declaredId[c]={dpid:b,dpuuid:e};return"setDeclaredId: succeeded for type '"+c+
"'"}}return"setDeclaredId: failed for type '"+c+"'"},getDeclaredIdQueryString:function(){var a=this.declaredId.request,c=this.declaredId.init,g="";null!==a?g="\x26d_dpid\x3d"+a.dpid+"\x26d_dpuuid\x3d"+a.dpuuid:null!==c&&(g="\x26d_dpid\x3d"+c.dpid+"\x26d_dpuuid\x3d"+c.dpuuid);return g}},registerRequest:function(a){var c=this.firingQueue;a===Object(a)&&c.push(a);if(!this.firing&&c.length&&(!F||DIL.windowLoaded))if(this.adms.calledBack){if(a=c.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,
"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid\x3d"),u.isPopulatedString(a.corsPostData)&&(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),B.fireRequest(a),!this.firstRequestHasFired&&("script"===a.tag||"cors"===a.tag))this.firstRequestHasFired=!0}else this.processVisitorAPI()},processVisitorAPI:function(){this.adms.process(window.Visitor)},requestRemoval:function(a){if(!L)return"removeFinishedScriptsAndCallbacks is not boolean true";var c=
this.toRemove,g,k;a===Object(a)&&(g=a.script,k=a.callbackName,(g===Object(g)&&"SCRIPT"===g.nodeName||"no script created"===g)&&("string"===typeof k&&k.length)&&c.push(a));if(this.readyToRemove&&c.length){k=c.shift();g=k.script;k=k.callbackName;"no script created"!==g?(a=g.src,g.parentNode.removeChild(g)):a=g;window[k]=null;try{delete window[k]}catch(b){}this.removed.push({scriptSrc:a,callbackName:k});DIL.variables.scriptsRemoved.push(a);DIL.variables.callbacksRemoved.push(k);return this.requestRemoval()}return"requestRemoval() processed"}};
m=function(){var a="http://fast.",c="?d_nsid\x3d"+l+"#"+encodeURIComponent(document.location.href);if("string"===typeof D&&D.length)return D+c;y.IS_HTTPS&&(a=!0===A?"https://fast.":"https://");return a+h+".demdex.net/dest4.html"+c};var z={THROTTLE_START:3E4,throttleTimerSet:!1,id:"destination_publishing_iframe_"+h+"_"+l,url:m(),iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messageSendingInterval:y.POST_MESSAGE_ENABLED?15:100,jsonProcessed:[],attachIframe:function(){var a=
this,c=document.createElement("iframe");c.id=this.id;c.style.cssText="display: none; width: 0; height: 0;";c.src=this.url;t.addListener(c,"load",function(){a.iframeHasLoaded=!0;a.requestToProcess()});document.body.appendChild(c);this.iframe=c},requestToProcess:function(a,c){var g=this;a&&!u.isEmptyObject(a)&&this.process(a,c);this.iframeHasLoaded&&(this.messages.length&&!this.sendingMessages)&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){g.messageSendingInterval=y.POST_MESSAGE_ENABLED?
15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},process:function(a,c){var g=encodeURIComponent,k,b,e,f,d,h;c===Object(c)&&(h=t.encodeAndBuildRequest(["",c.dpid||"",c.dpuuid||""],","));if((k=a.dests)&&k instanceof Array&&(b=k.length))for(e=0;e<b;e++)f=k[e],f=[g("dests"),g(f.id||""),g(f.y||""),g(f.c||"")],this.addMessage(f.join("|"));if((k=a.ibs)&&k instanceof Array&&(b=k.length))for(e=0;e<b;e++)f=k[e],f=[g("ibs"),g(f.id||""),g(f.tag||""),t.encodeAndBuildRequest(f.url||[],
","),g(f.ttl||""),"",h],this.addMessage(f.join("|"));if((k=a.dpcalls)&&k instanceof Array&&(b=k.length))for(e=0;e<b;e++)f=k[e],d=f.callback||{},d=[d.obj||"",d.fn||"",d.key||"",d.tag||"",d.url||""],f=[g("dpm"),g(f.id||""),g(f.tag||""),t.encodeAndBuildRequest(f.url||[],","),g(f.ttl||""),t.encodeAndBuildRequest(d,","),h],this.addMessage(f.join("|"));this.jsonProcessed.push(a)},addMessage:function(a){var c=encodeURIComponent,c=E?c("---destpub-debug---"):c("---destpub---");this.messages.push(c+a)},sendMessages:function(){var a=
this,c;this.messages.length?(c=this.messages.shift(),DIL.xd.postMessage(c,this.url,this.iframe.contentWindow),this.messagesPosted.push(c),setTimeout(function(){a.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1}},J={traits:function(a){u.isValidPdata(a)&&(s.sids instanceof Array||(s.sids=[]),t.extendArray(s.sids,a));return this},pixels:function(a){u.isValidPdata(a)&&(s.pdata instanceof Array||(s.pdata=[]),t.extendArray(s.pdata,a));return this},logs:function(a){u.isValidLogdata(a)&&
(s.logdata!==Object(s.logdata)&&(s.logdata={}),t.extendObject(s.logdata,a));return this},customQueryParams:function(a){u.isEmptyObject(a)||t.extendObject(s,a,p.reservedKeys);return this},signals:function(a,c){var g,k=a;if(!u.isEmptyObject(k)){if(c&&"string"===typeof c)for(g in k={},a)a.hasOwnProperty(g)&&(k[c+g]=a[g]);t.extendObject(s,k,p.reservedKeys)}return this},declaredId:function(a){p.declaredId.setDeclaredId(a,"request");return this},result:function(a){"function"===typeof a&&(s.callback=a);
return this},afterResult:function(a){"function"===typeof a&&(s.postCallbackFn=a);return this},useImageRequest:function(){s.useImageRequest=!0;return this},clearData:function(){s={};return this},submit:function(){B.submitRequest(s);s={};return this},getPartner:function(){return h},getContainerNSID:function(){return l},getEventLog:function(){return f},getState:function(){var a={},c={};t.extendObject(a,p,{callbackPrefix:!0,useJSONP:!0,registerRequest:!0});t.extendObject(c,z,{attachIframe:!0,requestToProcess:!0,
process:!0,sendMessages:!0});return{pendingRequest:s,otherRequestInfo:a,destinationPublishingInfo:c}},idSync:function(a){if(a!==Object(a)||"string"!==typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof a.url||!a.url.length)return"Error: config.url is empty";var c=a.url,g=a.minutesToLive,k=encodeURIComponent,b,c=c.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof g)g=20160;else if(g=parseInt(g,10),isNaN(g)||0>=g)return"Error: config.minutesToLive needs to be a positive number";
b=t.encodeAndBuildRequest(["",a.dpid,a.dpuuid||""],",");a=["ibs",k(a.dpid),"img",k(c),g,"",b];z.addMessage(a.join("|"));p.firstRequestHasFired&&z.requestToProcess();return"Successfully queued"},aamIdSync:function(a){if(a!==Object(a)||"string"!==typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";a.url="//dpm.demdex.net/ibs:dpid\x3d"+a.dpid+"\x26dpuuid\x3d"+a.dpuuid;return this.idSync(a)},passData:function(a){if(u.isEmptyObject(a))return"Error: json is empty or not an object";
B.defaultCallback(a);return"json submitted for processing"},getPlatformParams:function(){return p.platformParams},getEventCallConfigParams:function(){var a=p,c=a.modStatsParams,g=a.platformParams,k;if(!c){c={};for(k in g)g.hasOwnProperty(k)&&!a.nonModStatsParams[k]&&(c[k.replace(/^d_/,"")]=g[k]);a.modStatsParams=c}return c}},B={corsMetadata:function(){var a="none",c=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":
(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?a="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(c=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(c=!1));return{corsType:a,corsCookiesEnabled:c}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(a){p.registerRequest(B.createQueuedRequest(a));return!0},createQueuedRequest:function(a){var c=
p,g,k=a.callback,b="img",e;if(!u.isEmptyObject(n)){var f,d,h;for(f in n)if(n.hasOwnProperty(f)&&(d=n[f],!(null==d||""===d)&&f in a&&!(d in a)&&!(d in p.reservedKeys)))h=a[f],null==h||""===h||(a[d]=h)}u.isValidPdata(a.sids)||(a.sids=[]);u.isValidPdata(a.pdata)||(a.pdata=[]);u.isValidLogdata(a.logdata)||(a.logdata={});a.logdataArray=t.convertObjectToKeyValuePairs(a.logdata,"\x3d",!0);a.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!==typeof k&&(k=this.defaultCallback);c.useJSONP=!0!==
a.useImageRequest;c.useJSONP&&(b="script",g=c.callbackPrefix+"_"+l+"_"+(new Date).getTime());c=this.makeRequestSrcData(a,g);if(!P&&(e=this.getCORSInstance())&&c.truncated&&(this.corsMetadata.corsCookiesEnabled||c.isDeclaredIdCall))b="cors";return{tag:b,src:c.src,corsSrc:c.corsSrc,internalCallbackName:g,callbackFn:k,postCallbackFn:a.postCallbackFn,useImageRequest:!!a.useImageRequest,requestData:a,corsInstance:e,corsPostData:c.corsPostData,hasCORSError:!1}},defaultCallback:function(a,c){var g,k,b,f,
e,d,h,l,m;if((g=a.stuff)&&g instanceof Array&&(k=g.length))for(b=0;b<k;b++)if((f=g[b])&&f===Object(f)){e=f.cn;d=f.cv;h=f.ttl;if("undefined"===typeof h||""===h)h=Math.floor(t.getMaxCookieExpiresInMinutes()/60/24);l=f.dmn||"."+document.domain.replace(/^www\./,"");m=f.type;if(e&&(d||"number"===typeof d))"var"!==m&&(h=parseInt(h,10))&&!isNaN(h)&&t.setCookie(e,d,1440*h,"/",l,!1),H.stuffed[e]=d}g=a.uuid;if(u.isPopulatedString(g)&&!u.isEmptyObject(q)){k=q.path;if("string"!==typeof k||!k.length)k="/";b=parseInt(q.days,
10);isNaN(b)&&(b=100);t.setCookie(q.name||"aam_did",g,1440*b,k,q.domain||"."+document.domain.replace(/^www\./,""),!0===q.secure)}!w&&!p.abortRequests&&z.requestToProcess(a,c)},makeRequestSrcData:function(a,c){a.sids=u.removeEmptyArrayValues(a.sids||[]);a.pdata=u.removeEmptyArrayValues(a.pdata||[]);var g=p,k=g.platformParams,b=t.encodeAndBuildRequest(a.sids,","),f=t.encodeAndBuildRequest(a.pdata,","),e=(a.logdataArray||[]).join("\x26");delete a.logdataArray;var d=y.IS_HTTPS?"https://":"http://",m=
g.declaredId.getDeclaredIdQueryString(),r;r=[];var n,q,s,w;for(n in a)if(!(n in g.reservedKeys)&&a.hasOwnProperty(n))if(q=a[n],n=encodeURIComponent(n),q instanceof Array){s=0;for(w=q.length;s<w;s++)r.push(n+"\x3d"+encodeURIComponent(q[s]))}else r.push(n+"\x3d"+encodeURIComponent(q));r=r.length?"\x26"+r.join("\x26"):"";n=!1;b="d_nsid\x3d"+k.d_nsid+m+(b.length?"\x26d_sid\x3d"+b:"")+(f.length?"\x26d_px\x3d"+f:"")+(e.length?"\x26d_ld\x3d"+encodeURIComponent(e):"");k="\x26d_rtbd\x3d"+k.d_rtbd+"\x26d_jsonv\x3d"+
k.d_jsonv+"\x26d_dst\x3d"+k.d_dst;d=d+h+".demdex.net/event";f=g=d+"?"+b+(g.useJSONP?k+"\x26d_cb\x3d"+(c||""):"")+r;2048<g.length&&(g=g.substring(0,g.lastIndexOf("\x26")),n=!0);return{corsSrc:d+"?"+(O?"testcors\x3d1\x26d_nsid\x3d"+l+"\x26":"")+"_ts\x3d"+(new Date).getTime(),src:g,originalSrc:f,truncated:n,corsPostData:b+k+r,isDeclaredIdCall:""!==m}},fireRequest:function(a){if("img"===a.tag)this.fireImage(a);else{var c=p.declaredId,c=c.declaredId.request||c.declaredId.init||{},c={dpid:c.dpid||"",dpuuid:c.dpuuid||
""};"script"===a.tag?this.fireScript(a,c):"cors"===a.tag&&this.fireCORS(a,c)}},fireImage:function(a){var c=p,g,b;c.abortRequests||(c.firing=!0,g=new Image(0,0),c.sent.push(a),g.onload=function(){c.firing=!1;c.fired.push(a);c.num_of_img_responses++;c.registerRequest()},b=function(g){e="imgAbortOrErrorHandler received the event of type "+g.type;f.push(e);c.abortRequests=!0;c.firing=!1;c.errored.push(a);c.num_of_img_errors++;c.registerRequest()},g.addEventListener?(g.addEventListener("error",b,!1),g.addEventListener("abort",
b,!1)):g.attachEvent&&(g.attachEvent("onerror",b),g.attachEvent("onabort",b)),g.src=a.src)},fireScript:function(a,c){var g=this,b=p,d,l,m=a.src,r=a.postCallbackFn,n="function"===typeof r,q=a.internalCallbackName;b.abortRequests||(b.firing=!0,window[q]=function(g){try{g!==Object(g)&&(g={});var d=a.callbackFn;b.firing=!1;b.fired.push(a);b.num_of_jsonp_responses++;d(g,c);n&&r(g,c)}catch(m){m.message="DIL jsonp callback caught error with message "+m.message;e=m.message;f.push(e);m.filename=m.filename||
"dil.js";m.partner=h;DIL.errorModule.handleError(m);try{d({error:m.name+"|"+m.message},c),n&&r({error:m.name+"|"+m.message},c)}catch(T){}}finally{b.requestRemoval({script:l,callbackName:q}),b.registerRequest()}},x?(b.firing=!1,b.requestRemoval({script:"no script created",callbackName:q})):(l=document.createElement("script"),l.addEventListener&&l.addEventListener("error",function(c){b.requestRemoval({script:l,callbackName:q});e="jsonp script tag error listener received the event of type "+c.type+" with src "+
m;g.handleScriptError(e,a)},!1),l.type="text/javascript",l.src=m,d=DIL.variables.scriptNodeList[0],d.parentNode.insertBefore(l,d)),b.sent.push(a),b.declaredId.declaredId.request=null)},fireCORS:function(a,c){function b(g){var l;try{if(l=JSON.parse(g),l!==Object(l)){k.handleCORSError(a,c,"Response is not JSON");return}}catch(m){k.handleCORSError(a,c,"Error parsing response as JSON");return}try{var r=a.callbackFn;d.firing=!1;d.fired.push(a);d.num_of_cors_responses++;r(l,c);s&&q(l,c)}catch(n){n.message=
"DIL handleCORSResponse caught error with message "+n.message;e=n.message;f.push(e);n.filename=n.filename||"dil.js";n.partner=h;DIL.errorModule.handleError(n);try{r({error:n.name+"|"+n.message},c),s&&q({error:n.name+"|"+n.message},c)}catch(p){}}finally{d.registerRequest()}}var k=this,d=p,l=this.corsMetadata.corsType,m=a.corsSrc,r=a.corsInstance,n=a.corsPostData,q=a.postCallbackFn,s="function"===typeof q;if(!d.abortRequests){d.firing=!0;if(M)d.firing=!1;else try{r.open("post",m,!0),"XMLHttpRequest"===
l?(r.withCredentials=!0,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===this.readyState&&(200===this.status?b(this.responseText):k.handleCORSError(a,c,"onreadystatechange"))}):"XDomainRequest"===l&&(r.onload=function(){b(this.responseText)}),r.onerror=function(){k.handleCORSError(a,c,"onerror")},r.ontimeout=function(){k.handleCORSError(a,c,"ontimeout")},r.send(n)}catch(t){this.handleCORSError(a,c,"try-catch")}d.sent.push(a);d.declaredId.declaredId.request=
null}},handleCORSError:function(a,c,b){a.hasCORSError||(a.hasCORSError=!0,p.num_of_cors_errors++,p.corsErrorSources.push(b),a.tag="script",this.fireScript(a,c))},handleScriptError:function(a,c){p.num_of_jsonp_errors++;this.handleRequestError(a,c)},handleRequestError:function(a,c){var b=p;f.push(a);b.abortRequests=!0;b.firing=!1;b.errored.push(c);b.registerRequest()}},u={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},
isEmptyObject:function(a){if(a!==Object(a))return!0;for(var c in a)if(a.hasOwnProperty(c))return!1;return!0},removeEmptyArrayValues:function(a){for(var c=0,b=a.length,f,d=[],c=0;c<b;c++)f=a[c],"undefined"!==typeof f&&(null!==f&&""!==f)&&d.push(f);return d},isPopulatedString:function(a){return"string"===typeof a&&a.length}},t={addListener:function(){if(document.addEventListener)return function(a,c,b){a.addEventListener(c,function(a){"function"===typeof b&&b(a)},!1)};if(document.attachEvent)return function(a,
c,b){a.attachEvent("on"+c,function(a){"function"===typeof b&&b(a)})}}(),convertObjectToKeyValuePairs:function(a,c,b){var f=[],d,e;c||(c="\x3d");for(d in a)a.hasOwnProperty(d)&&(e=a[d],"undefined"!==typeof e&&(null!==e&&""!==e)&&f.push(d+c+(b?encodeURIComponent(e):e)));return f},encodeAndBuildRequest:function(a,c){return this.map(a,function(a){return encodeURIComponent(a)}).join(c)},map:function(a,c){if(Array.prototype.map)return a.map(c);if(void 0===a||null===a)throw new TypeError;var b=Object(a),
f=b.length>>>0;if("function"!==typeof c)throw new TypeError;for(var d=Array(f),e=0;e<f;e++)e in b&&(d[e]=c.call(c,b[e],e,b));return d},filter:function(a,c){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var b=Object(a),f=b.length>>>0;if("function"!==typeof c)throw new TypeError;for(var e=[],d=0;d<f;d++)if(d in b){var h=b[d];c.call(c,h,d,b)&&e.push(h)}return e}return a.filter(c)},getCookie:function(a){a+="\x3d";var c=document.cookie.split(";"),b,f,d;b=0;for(f=c.length;b<f;b++){for(d=
c[b];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,d.length))}return null},setCookie:function(a,c,b,d,f,e){var h=new Date;b&&(b*=6E4);document.cookie=a+"\x3d"+encodeURIComponent(c)+(b?";expires\x3d"+(new Date(h.getTime()+b)).toUTCString():"")+(d?";path\x3d"+d:"")+(f?";domain\x3d"+f:"")+(e?";secure":"")},extendArray:function(a,b){return a instanceof Array&&b instanceof Array?(Array.prototype.push.apply(a,b),!0):!1},extendObject:function(a,
b,d){var f;if(a===Object(a)&&b===Object(b)){for(f in b)if(b.hasOwnProperty(f)&&(u.isEmptyObject(d)||!(f in d)))a[f]=b[f];return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(y.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60}};"error"===h&&0===l&&t.addListener(window,"load",function(){DIL.windowLoaded=!0});var C=function(){p.registerRequest();S();!w&&!p.abortRequests&&z.attachIframe();p.readyToRemove=!0;p.requestRemoval()},S=function(){w||setTimeout(function(){!N&&
(!p.firstRequestHasFired&&!p.adms.admsProcessingStarted&&!p.adms.calledBack)&&("function"===typeof G?J.afterResult(G).submit():J.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)},R=document;"error"!==h&&(DIL.windowLoaded?C():"complete"!==R.readyState&&"loaded"!==R.readyState?t.addListener(window,"load",C):DIL.isAddedPostWindowLoadWasCalled?t.addListener(window,"load",C):F||(v="number"===typeof v?parseInt(v,10):0,0>v&&(v=0),setTimeout(C,v||DIL.constants.TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT)));p.declaredId.setDeclaredId(K,
"init");this.api=J;this.getStuffedVariable=function(a){var b=H.stuffed[a];!b&&"number"!==typeof b&&(b=t.getCookie(a),!b&&"number"!==typeof b&&(b=""));return b};this.validators=u;this.helpers=t;this.constants=y;this.log=f;Q&&(this.pendingRequest=s,this.requestController=p,this.setDestinationPublishingUrl=m,this.destinationPublishing=z,this.requestProcs=B,this.variables=H,this.callWindowLoadFunctions=C)},function(){var b=document,d;null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",
d=function(){b.removeEventListener("DOMContentLoaded",d,!1);b.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(b){var d;if(b===Object(b))for(d in b)b.hasOwnProperty(d)&&(this[d]=b[d])},DIL.extendStaticPropertiesAndMethods({version:"5.7",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50,TIME_TO_CATCH_ALL_DP_IFRAME_ATTACHMENT:500},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoadWasCalled:!1,
isAddedPostWindowLoad:function(b){this.isAddedPostWindowLoadWasCalled=!0;this.windowLoaded="function"===typeof b?!!b():"boolean"===typeof b?b:!0},create:function(b){try{return new DIL(b)}catch(d){return(new Image(0,0)).src="http://error.demdex.net/event?d_nsid\x3d0\x26d_px\x3d14137\x26d_ld\x3dname%3Derror%26filename%3Ddil.js%26partner%3Dno_partner%26message%3DError%2520in%2520attempt%2520to%2520create%2520DIL%2520instance%2520with%2520DIL.create()%26_ts%3D"+(new Date).getTime(),Error("Error in attempt to create DIL instance with DIL.create()")}},
registerDil:function(b,d,f){d=d+"$"+f;d in this.dils||(this.dils[d]=b)},getDil:function(b,d){var f;"string"!==typeof b&&(b="");d||(d=0);f=b+"$"+d;return f in this.dils?this.dils[f]:Error("The DIL instance with partner \x3d "+b+" and containerNSID \x3d "+d+" was not found")},dexGetQSVars:function(b,d,f){d=this.getDil(d,f);return d instanceof this?d.getStuffedVariable(b):""},xd:{postMessage:function(b,d,f){var e=1;d&&(window.postMessage?f.postMessage(b,d.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):d&&(f.location=
d.replace(/#.*$/,"")+"#"+ +new Date+e++ +"\x26"+b))}}}),DIL.errorModule=function(){var b=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),d={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},f=!1;return{activate:function(){f=!0},handleError:function(e){if(!f)return"DIL error module has not been activated";e!==Object(e)&&
(e={});var m=e.name?(e.name+"").toLowerCase():"",h=[];e={name:m,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};h.push(m in d?d[m]:d.noerrortypedefined);b.api.pixels(h).logs(e).useImageRequest().submit();return"DIL error report sent"},pixelMap:d}}(),DIL.tools={},DIL.modules={helpers:{handleModuleError:function(b,d,f){var e="";d=d||"Error caught in DIL module/submodule: ";b===Object(b)?
e=d+(b.message||"err has no message"):(e=d+"err is not a valid object",b={});b.message=e;f instanceof DIL&&(b.partner=f.api.getPartner());DIL.errorModule.handleError(b);return this.errorMessage=e}}});
DIL.tools.getSearchReferrer=function(b,d){var f=DIL.getDil("error"),e=DIL.tools.decomposeURI(b||document.referrer),m="",h="",l={queryParam:"q"},m=f.helpers.filter([d===Object(d)?d:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(b){return!(!b.hasOwnProperty("hostPattern")||!e.hostname.match(b.hostPattern))}).shift();return!m?{valid:!1,name:"",keywords:""}:{valid:!0,name:e.hostname,keywords:(f.helpers.extendObject(l,
m),h=l.queryPattern?(m=(""+e.search).match(l.queryPattern))?m[1]:"":e.uriParams[l.queryParam],decodeURIComponent(h||"").replace(/\+|%20/g," "))}};
DIL.tools.decomposeURI=function(b){var d=DIL.getDil("error"),f=document.createElement("a");f.href=b||document.referrer;return{hash:f.hash,host:f.host.split(":").shift(),hostname:f.hostname,href:f.href,pathname:f.pathname.replace(/^\//,""),protocol:f.protocol,search:f.search,uriParams:function(b,f){d.helpers.map(f.split("\x26"),function(d){d=d.split("\x3d");b[d.shift()]=d.shift()});return b}({},f.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var b={},d=document.getElementsByTagName("meta"),f,e,m,h,l;f=0;for(m=arguments.length;f<m;f++)if(h=arguments[f],null!==h)for(e=0;e<d.length;e++)if(l=d[e],l.name===h){b[h]=l.content;break}return b};
DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(b,d,f,e){try{var m=this,h={name:"DIL Site Catalyst Module Error"},l=function(b){h.message=b;DIL.errorModule.handleError(h);return b};this.options=e===Object(e)?e:{};this.dil=null;if(d instanceof DIL)this.dil=d;else return l("dilInstance is not a valid instance of DIL");h.partner=d.api.getPartner();if(b!==Object(b))return l("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=b.m_DIL=
function(b){var d="function"===typeof b.m_i?b.m_i("DIL"):this;if(d!==Object(d))return l("m is not an object");d.trackVars=m.constructTrackVars(f);d.d=0;d.s=b;d._t=function(){var b,d,f=","+this.trackVars+",",e=this.s,h,v=[];h=[];var w={},x=!1;if(e!==Object(e))return l("Error in m._t function: s is not an object");if(this.d){if("function"===typeof e.foreachVar)e.foreachVar(function(b,d){"undefined"!==typeof d&&(w[b]=d,x=!0)},this.trackVars);else{if(!(e.va_t instanceof Array))return l("Error in m._t function: s.va_t is not an array");
if(e.lightProfileID)(b=e.lightTrackVars)&&(b=","+b+","+e.vl_mr+",");else if(e.pe||e.linkType)b=e.linkTrackVars,e.pe&&(d=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[d]&&(b=e[d].trackVars)),b&&(b=","+b+","+e.vl_l+","+e.vl_l2+",");if(b){d=0;for(v=b.split(",");d<v.length;d++)0<=f.indexOf(","+v[d]+",")&&h.push(v[d]);h.length&&(f=","+h.join(",")+",")}h=0;for(d=e.va_t.length;h<d;h++)b=e.va_t[h],0<=f.indexOf(","+b+",")&&("undefined"!==typeof e[b]&&null!==e[b]&&""!==e[b])&&(w[b]=e[b],x=!0)}m.includeContextData(e,
w).store_populated&&(x=!0);x&&this.d.api.signals(w,"c_").submit()}}};b.loadModule("DIL");b.DIL.d=d;return h.message?h.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(v){return this.handle(v,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(b){var d=[],f,e,m,h,l;if(b===Object(b)){f=b.names;if(f instanceof Array&&(m=f.length))for(e=0;e<m;e++)h=f[e],"string"===typeof h&&h.length&&d.push(h);b=b.iteratedNames;if(b instanceof Array&&
(m=b.length))for(e=0;e<m;e++)if(f=b[e],f===Object(f)&&(h=f.name,l=parseInt(f.maxIndex,10),"string"===typeof h&&h.length&&!isNaN(l)&&0<=l))for(f=0;f<=l;f++)d.push(h+f);if(d.length)return d.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(b,d){var f={},e=!1;if(b.contextData===Object(b.contextData)){var m=b.contextData,h=this.options.replaceContextDataPeriodsWith,
l=this.options.filterFromContextVariables,v={},w,A,n,q;if("string"!==typeof h||!h.length)h="_";if(l instanceof Array){w=0;for(A=l.length;w<A;w++)n=l[w],this.dil.validators.isPopulatedString(n)&&(v[n]=!0)}for(q in m)if(m.hasOwnProperty(q)&&!v[q]&&((l=m[q])||"number"===typeof l))q=("contextData."+q).replace(/\./g,h),d[q]=l,e=!0}f.store_populated=e;return f}};